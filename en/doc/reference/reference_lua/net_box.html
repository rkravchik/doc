






















<!doctype html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="CR40jzpLISkiUAw2MrH2zHSDNVmzyK88Nj7Crmx_RxQ" />
    
  <link rel="icon" type="image/png" sizes="16x16" href=../../../_static/favicon/favicon-16x16.png>
  <link rel="icon" type="image/png" sizes="32x32" href=../../../_static/favicon/favicon-32x32.png>
  <link rel="icon" type="image/png" sizes="96x96" href=../../../_static/favicon/favicon-96x96.png>

    <title>1.16. Module net.box</title>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/searchtools.js"></script>
      <script type="text/javascript" src="../../../_static/js/menu.js"></script>
      <script type="text/javascript" src="../../../_static/js/mobile_menu.js"></script>
      <script type="text/javascript" src="../../../_static/js/stacktable.min.js"></script>
      <script type="text/javascript" src="../../../_static/js/headers.js"></script>
      <script type="text/javascript" src="../../../_static/js/dropdown.js"></script>
      <script type="text/javascript" src="../../../_static/js/jquery.sticky-kit.min.js"></script>
      <link rel="stylesheet" href="../../../_static/design.css">

    
    <!--[if lt IE 9]>
      <script src="/js/ie8.js"></script>
      <link rel="stylesheet" href="/theme/ie8.css" />
    <![endif]-->
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22120502-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- Rating@Mail.ru counter -->
<script type="text/javascript">
  var _tmr = _tmr || [];
  _tmr.push({id: "2284916", type: "pageView", start: (new Date()).getTime()});
  (function (d, w) {
    var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true;
    ts.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//top-fwz1.mail.ru/js/code.js";
    var f = function () {var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s);};
    if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); }
  })(document, window);
</script>
<noscript>
  <div style="position:absolute;left:-10000px;">
    <img src="//top-fwz1.mail.ru/counter?id=2284916;js=na" style="border:0;"
         height="1" width="1" alt="Рейтинг@Mail.ru" />
  </div>
</noscript>
<!-- //Rating@Mail.ru counter -->


    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:       '',
        VERSION:        '1.7.3',
        COLLAPSE_INDEX:  false,
        FILE_SUFFIX:    '.html',
        HAS_SOURCE:      true
      };
      
      
      var disqus_config = function () {
          this.page.identifier = "doc/reference/reference_lua/net_box";
          this.language        = "en"
      };
      window.twttr = (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
        if (d.getElementById(id)) return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);

        t._e = []; t.ready = function(f) { t._e.push(f); };
        return t;
      }(document, "script", "twitter-wjs"));
    </script>
    

  </head>
  <body class="p-cols_design b-doc-doc_reference_reference_lua_net_box">
    <div class="b-wrapper">
      <!-- HEADER > -->
      
  <header class="b-header">
    <div class="b-header_menu_mobile">
      <div class="b-burger-button">
        <span></span>
      </div>
      <form role="search" class="b-header-search"
            action="../../../search.html" method="get">
        <input name="q" type="search">
      </form>
    </div>
    <div class="b-menu_mobile">
      <div class="b-menu_mobile__wrapper">
        <nav class="b-header_menu">
          
  <ul class="b-menu">
    
      
      <li class="b-menu-item">
      
        <a href="../../../index.html" class="b-menu-item-url">Main</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../try.html" class="b-menu-item-url">Try</a>
      </li>
    
      
      <li class="b-menu-item p-active">
      
        <a href="../../../doc.html" class="b-menu-item-url">Documentation</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../download.html" class="b-menu-item-url">Download</a>
      </li>
    
      
      <li class="b-menu-item p-cloud">
      
        <a href="https://tarantool.io/" class="b-menu-item-url">Cloud</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../rocks.html" class="b-menu-item-url">Rocks</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../careers.html" class="b-menu-item-url">Careers</a>
      </li>
    
  </ul>

          
    <ul class="b-doc-language_selector-list">
    
      <li class="b-doc-language_selector-item">
      
        <a href="#" class="b-doc-language_selector-item-url p-active"> En </a>
      
      </li>
    
      <li class="b-doc-language_selector-item">
      
        <a href="
  
    ../../../../ru/doc/reference/reference_lua/net_box.html
  
"
           class="b-doc-language_selector-item-url"> Ru </a>
      
      </li>
    
    </ul>

        </nav>
      </div>
    </div>
    <div class="b-header-wrapper">
      <nav class="b-header_menu">
        <div class="b-header_menu-top">
          
  <ul class="b-menu">
    
      
      <li class="b-menu-item">
      
        <a href="../../../index.html" class="b-menu-item-url">Main</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../try.html" class="b-menu-item-url">Try</a>
      </li>
    
      
      <li class="b-menu-item p-active">
      
        <a href="../../../doc.html" class="b-menu-item-url">Documentation</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../download.html" class="b-menu-item-url">Download</a>
      </li>
    
      
      <li class="b-menu-item p-cloud">
      
        <a href="https://tarantool.io/" class="b-menu-item-url">Cloud</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../rocks.html" class="b-menu-item-url">Rocks</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../careers.html" class="b-menu-item-url">Careers</a>
      </li>
    
  </ul>

          <div class="b-header_menu-top-ctl">
            
    <ul class="b-doc-language_selector-list">
    
      <li class="b-doc-language_selector-item">
      
        <a href="#" class="b-doc-language_selector-item-url p-active"> En </a>
      
      </li>
    
      <li class="b-doc-language_selector-item">
      
        <a href="
  
    ../../../../ru/doc/reference/reference_lua/net_box.html
  
"
           class="b-doc-language_selector-item-url"> Ru </a>
      
      </li>
    
    </ul>

            <a class="b-search-btn" href="#">
              <i class="fa fa-search"></i>
            </a>
          </div>
        </div>
        <div class="b-header_menu-bottom">
          <form role="search" class="b-header_menu-search" action="../../../search.html" method="get">
            <input name="q" type="search" class="b-header_menu-search-text"
                   placeholder="Search Tarantool.org web site and documentation">
            <input class="b-header_menu-search-but" type="submit" value="Go">
          </form>
        </div>
      </nav>
    </div>
  </header>

      <!-- < HEADER -->
      <div class="b-content b-clearbox">
        
  
    <section class="b-block-lightgray b-documentation_top b-clearbox p-documentation_in">
      <div class="b-block-wrapper">
        <h2 class="b-section-title b-ellipsis toggle-navigation" title="1.16. Module <cite>net.box</cite>"> 1.16. Module <cite>net.box</cite> </h2>
      </div>
    </section>
    
      <div class="b-cols_content b-clearbox">
        <div class="b-cols_content_left">
          <div class="b-menu-toc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../whats_new.html">What&#8217;s new?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../whats_new.html#what-s-new-in-tarantool-1-7">What&#8217;s new in Tarantool 1.7?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#an-application-server-together-with-a-database-manager">An application server together with a database manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#database-features">Database features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../book/index.html">User&#8217;s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../book/intro.html">1. Preface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/intro.html#how-to-read-the-documentation">1.1. How to read the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/intro.html#getting-in-touch-with-the-tarantool-community">1.2. Getting in touch with the Tarantool community</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/getting_started/index.html">2. Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/getting_started/using_docker.html">2.1. Using a Docker image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_docker.html#launching-a-container">2.1.1. Launching a container</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_docker.html#attaching-to-tarantool">2.1.2. Attaching to Tarantool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_docker.html#creating-a-database">2.1.3. Creating a database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_docker.html#stopping-a-container">2.1.4. Stopping a container</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/getting_started/using_binary.html">2.2. Using a binary package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_binary.html#starting-tarantool">2.2.1. Starting Tarantool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_binary.html#creating-a-database">2.2.2. Creating a database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/getting_started/using_binary.html#connecting-remotely">2.2.3. Connecting remotely</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/box/index.html">3. Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/box/data_model.html">3.1. Data model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/data_model.html#space">3.1.1. Space</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/data_model.html#tuple">3.1.2. Tuple</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/data_model.html#index">3.1.3. Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/data_model.html#data-types">3.1.4. Data types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/data_model.html#lua-vs-msgpack">3.1.4.1. Lua vs MsgPack</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/data_model.html#indexed-field-types">3.1.4.2. Indexed field types</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/data_model.html#persistence">3.1.5. Persistence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/data_model.html#operations">3.1.6. Operations</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/data_model.html#data-operations">3.1.6.1. Data operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/data_model.html#index-operations">3.1.6.2. Index operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/data_model.html#complexity-factors">3.1.6.3. Complexity factors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/box/atomic.html">3.2. Transaction control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/atomic.html#threads-fibers-and-yields">3.2.1. Threads, fibers and yields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/atomic.html#cooperative-multitasking">3.2.2. Cooperative multitasking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/atomic.html#transactions">3.2.3. Transactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/atomic.html#implicit-yields">3.2.4. Implicit yields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/box/authentication.html">3.3. Access control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/authentication.html#users">3.3.1. Users</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/authentication.html#passwords">3.3.2. Passwords</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/authentication.html#owners-and-privileges">3.3.3. Owners and privileges</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/authentication.html#roles">3.3.4. Roles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/authentication.html#sessions-and-security">3.3.5. Sessions and security</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/box/triggers.html">3.4. Triggers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/box/limitations.html">3.5. Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/app_server/index.html">4. Application server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/app_server/launching_app.html">4.1. Launching an application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/launching_app.html#launching-in-docker">4.1.1. Launching in Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/launching_app.html#launching-a-binary-program">4.1.2. Launching a binary program</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/app_server/creating_app.html">4.2. Creating an application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#modules-rocks-and-applications">4.2.1. Modules, rocks and applications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#avro-schemas">4.2.2. Avro schemas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#bootstrapping-a-database">4.2.3. Bootstrapping a database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#gis">4.2.4. GIS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#index-iterators">4.2.5. Index iterators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#fibers">4.2.6. Fibers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#logging">4.2.7. Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#nginx">4.2.8. nginx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/creating_app.html#non-blocking-io">4.2.9. Non-blocking IO</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/app_server/cookbook.html">4.3. Cookbook recipes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#hello-world-lua">4.3.1. hello_world.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#console-start-lua">4.3.2. console_start.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#fio-read-lua">4.3.3. fio_read.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#fio-write-lua">4.3.4. fio_write.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#ffi-printf-lua">4.3.5. ffi_printf.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#ffi-gettimeofday-lua">4.3.6. ffi_gettimeofday.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#ffi-zlib-lua">4.3.7. ffi_zlib.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#ffi-meta-lua">4.3.8. ffi_meta.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#print-arrays-lua">4.3.9. print_arrays.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#count-array-lua">4.3.10. count_array.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#count-array-with-nils-lua">4.3.11. count_array_with_nils.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#count-array-with-nulls-lua">4.3.12. count_array_with_nulls.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#count-map-lua">4.3.13. count_map.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#swap-lua">4.3.14. swap.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#uri-lua">4.3.15. uri.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#class-lua">4.3.16. class.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#garbage-lua">4.3.17. garbage.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#fiber-producer-and-consumer-lua">4.3.18. fiber_producer_and_consumer.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#socket-tcpconnect-lua">4.3.19. socket_tcpconnect.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#socket-tcp-echo-lua">4.3.20. socket_tcp_echo.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#getaddrinfo-lua">4.3.21. getaddrinfo.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#socket-udp-echo-lua">4.3.22. socket_udp_echo.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#http-get-lua">4.3.23. http_get.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#http-send-lua">4.3.24. http_send.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#http-server-lua">4.3.25. http_server.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/app_server/cookbook.html#http-generate-html-lua">4.3.26. http_generate_html.lua</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/administration.html">5. Server administration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#using-tarantool-as-a-client">5.1. Using Tarantool as a client</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#conventions-used-in-this-section">5.1.1. Conventions used in this section</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#options-when-starting-client-from-the-command-line">5.1.2. Options when starting client from the command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#tokens-requests-and-special-key-combinations">5.1.3. Tokens, requests, and special key combinations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#requests">5.1.4. Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#utility-tarantoolctl">5.2. Utility tarantoolctl</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#configuration-for-tarantoolctl">5.2.1. Configuration for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#commands-for-tarantoolctl">5.2.2. Commands for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#typical-code-snippets-for-tarantoolctl">5.2.3. Typical code snippets for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#a-detailed-example-for-tarantoolctl">5.2.4. A detailed example for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#an-example-for-tarantoolctl-connect">5.2.5. An example for tarantoolctl connect</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#administrative-ports">5.3. Administrative ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#administrative-requests">5.4. Administrative requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#server-introspection">5.5. Server introspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#backups">5.6. Backups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#cold-backup">5.6.1. Cold backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#continuous-remote-backup">5.6.2. Continuous remote backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#hot-backup">5.6.3. Hot backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#updates-upgrades">5.7. Updates/upgrades</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#updating-tarantool-in-production">5.7.1. Updating Tarantool in production</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#upgrading-a-tarantool-database">5.7.2. Upgrading a Tarantool database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#server-signal-handling">5.8. Server signal handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#generating-a-core-file">5.9. Generating a core file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#process-title">5.10. Process title</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#system-specific-administration-notes">5.11. System-specific administration notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#debian-gnu-linux-and-ubuntu">5.11.1. Debian GNU/Linux and Ubuntu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#fedora-rhel-centos">5.11.2. Fedora, RHEL, CentOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#freebsd">5.11.3. FreeBSD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#mac-os-x">5.11.4. Mac OS X</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/administration.html#notes-for-systemd-users">5.12. Notes for systemd users</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#instance-management">5.12.1. Instance management</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../book/administration.html#creating-instances">5.12.1.1. Creating instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/administration.html#starting-instances">5.12.1.2. Starting instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/administration.html#monitoring-instances">5.12.1.3. Monitoring instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/administration.html#attaching-to-instances">5.12.1.4. Attaching to instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/administration.html#checking-logs">5.12.1.5. Checking logs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/administration.html#stopping-instances">5.12.1.6. Stopping instances</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#daemon-supervision">5.12.2. Daemon supervision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#customizing-the-service-file">5.12.3. Customizing the service file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#debugging">5.12.4. Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#precautions">5.12.5. Precautions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#limitations">5.12.6. Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/administration.html#sysvinit-systemd-conversion">5.12.7. sysvinit -&gt; systemd conversion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/replication/index.html">6. Replication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#replication-architecture">6.1. Replication architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#setting-up-a-master">6.2. Setting up a master</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#setting-up-a-replica">6.3. Setting up a replica</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#recovering-from-a-degraded-state">6.4. Recovering from a degraded state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#quick-startup-of-a-new-simple-two-server-cluster">6.5. Quick startup of a new simple two-server cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#monitoring-a-replica-s-actions">6.6. Monitoring a replica&#8217;s actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#preventing-duplicate-actions">6.7. Preventing duplicate actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#master-master-replication">6.8. Master-master replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#all-the-what-if-questions">6.9. All the &#8220;What If?&#8221; questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/replication/index.html#hands-on-replication-tutorial">6.10. Hands-on replication tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/connectors/index.html">7. Connectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#protocol">7.1. Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#packet-example">7.2. Packet example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#setting-up-the-server-for-connector-examples">7.3. Setting up the server for connector examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#java">7.4. Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#go">7.5. Go</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#r">7.6. R</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#erlang">7.7. Erlang</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#perl">7.8. Perl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#php">7.9. PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#python">7.10. Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#node-js">7.11. Node.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#c">7.12. C#</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#id1">7.13. C</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/connectors/index.html#example-1">7.13.1. Example 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/connectors/index.html#example-2">7.13.2. Example 2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../book/connectors/index.html#interpreting-function-return-values">7.14. Interpreting function return values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../book/faq.html">8. FAQ</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">1. Built-in modules reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="box.html">1.1. Module <cite>box</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_cfg.html">1.1.1. Submodule <cite>box.cfg</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_index.html">1.1.2. Submodule <cite>box.index</cite></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/box_index.html#example-showing-use-of-the-box-functions">1.1.2.1. Example showing use of the box functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/box_index.html#example-showing-a-user-defined-iterator">1.1.2.2. Example showing a user-defined iterator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/box_index.html#submodule-box-index-with-index-type-rtree-for-spatial-searches">1.1.2.3. Submodule <cite>box.index</cite> with index type = RTREE for spatial searches</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_info.html">1.1.3. Submodule <cite>box.info</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="box_once.html">1.1.4. Function <cite>box.once</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_schema.html">1.1.5. Submodule <cite>box.schema</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_session.html">1.1.6. Submodule <cite>box.session</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_slab.html">1.1.7. Submodule <cite>box.slab</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_space.html">1.1.8. Submodule <cite>box.space</cite></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/box_space.html#example-use-box-space-functions-to-read-space-tuples">1.1.8.1. Example: use box.space functions to read _space tuples</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/box_space.html#example-use-box-space-functions-to-organize-a-space-tuple">1.1.8.2. Example: use box.space functions to organize a _space tuple</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_stat.html">1.1.9. Submodule <cite>box.stat</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_tuple.html">1.1.10. Submodule <cite>box.tuple</cite></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../book/box/box_tuple.html#example">1.1.10.1. Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../book/box/box_txn_management.html">1.1.11. Functions for transaction management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="clock.html">1.2. Module <cite>clock</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">1.3. Module <cite>console</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="crypto.html">1.4. Module <cite>crypto</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="crypto.html#incremental-methods-in-the-crypto-module">1.4.1. Incremental methods in the crypto module</a></li>
<li class="toctree-l4"><a class="reference internal" href="crypto.html#getting-the-same-results-from-digest-and-crypto-modules">1.4.2. Getting the same results from digest and crypto modules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="csv.html">1.5. Module <cite>csv</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="digest.html">1.6. Module <cite>digest</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="digest.html#incremental-methods-in-the-digest-module">1.6.1. Incremental methods in the digest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="digest.html#example">1.6.2. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="errno.html">1.7. Module <cite>errno</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="box_error.html">1.8. Submodule <cite>box.error</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="fiber.html">1.9. Module <cite>fiber</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="fiber.html#example-of-fiber-use">1.9.1. Example Of Fiber Use</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fiber_ipc.html">1.10. Submodule <cite>fiber-ipc</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="fiber_ipc.html#channel">1.10.1. Channel</a><ul>
<li class="toctree-l5"><a class="reference internal" href="fiber_ipc.html#example">1.10.1.1. Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="fiber_ipc.html#condition-variables">1.10.2. Condition variables</a><ul>
<li class="toctree-l5"><a class="reference internal" href="fiber_ipc.html#id1">1.10.2.1. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fio.html">1.11. Module <cite>fio</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="fio.html#common-pathname-manipulations">1.11.1. Common pathname manipulations</a></li>
<li class="toctree-l4"><a class="reference internal" href="fio.html#common-file-manipulations">1.11.2. Common file manipulations</a></li>
<li class="toctree-l4"><a class="reference internal" href="fio.html#fio-constants">1.11.3. FIO constants</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fun.html">1.12. Module <cite>fun</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">1.13. Module <cite>json</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="json.html#configuration-settings">1.13.1. Configuration settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="log.html">1.14. Module <cite>log</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="log.html#example">1.14.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="msgpack.html">1.15. Module <cite>msgpack</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="msgpack.html#example">1.15.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.16. Module <cite>net.box</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example">1.16.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="osmodule.html">1.17. Module <cite>os</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="pickle.html">1.18. Module <cite>pickle</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="socket.html">1.19. Module <cite>socket</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="socket.html#examples">1.19.1. Examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="socket.html#use-of-a-tcp-socket-over-the-internet">1.19.1.1. Use of a TCP socket over the Internet</a></li>
<li class="toctree-l5"><a class="reference internal" href="socket.html#use-of-a-udp-socket-on-localhost">1.19.1.2. Use of a UDP socket on localhost</a></li>
<li class="toctree-l5"><a class="reference internal" href="socket.html#use-tcp-server-to-accept-file-contents-sent-with-socat">1.19.1.3. Use tcp_server to accept file contents sent with socat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="strict.html">1.20. Module <cite>strict</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="tap.html">1.21. Module <cite>tap</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="tap.html#example">1.21.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tarantool.html">1.22. Module <cite>tarantool</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="uuid.html">1.23. Module <cite>uuid</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="uuid.html#example">1.23.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="xlog.html">1.24. Module <cite>xlog</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="yaml.html">1.25. Module <cite>yaml</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="yaml.html#example">1.25.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="other.html">1.26. Miscellaneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="errcodes.html">1.27. Database error codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="errcodes.html#handling-errors">1.28. Handling errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference_rock/index.html">2. Rocks reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference_rock/dbms.html">2.1. SQL DBMS Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/dbms.html#mysql-example">2.1.1. MySQL Example</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#installation">2.1.1.1. Installation</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../reference_rock/dbms.html#with-luarocks">2.1.1.1.1. With LuaRocks</a></li>
<li class="toctree-l6"><a class="reference internal" href="../reference_rock/dbms.html#with-github">2.1.1.1.2. With GitHub</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#connecting">2.1.1.2. Connecting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#how-to-ping">2.1.1.3. How to ping</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#executing-a-statement">2.1.1.4. Executing a statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#closing-connection">2.1.1.5. Closing connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#example">2.1.1.6. Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/dbms.html#postgresql-example">2.1.2. PostgreSQL Example</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#id1">2.1.2.1. Installation</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../reference_rock/dbms.html#id3">2.1.2.1.1. With LuaRocks</a></li>
<li class="toctree-l6"><a class="reference internal" href="../reference_rock/dbms.html#id4">2.1.2.1.2. With GitHub</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#id5">2.1.2.2. Connecting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#id6">2.1.2.3. How to ping</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#id7">2.1.2.4. Executing a statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#id8">2.1.2.5. Closing connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="../reference_rock/dbms.html#id9">2.1.2.6. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference_rock/expirationd.html">2.2. Module <cite>expirationd</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference_rock/shard.html">2.3. Module <cite>shard</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/shard.html#example-shard-init-syntax-for-one-shard">2.3.1. Example: shard.init syntax for one shard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/shard.html#example-shard-init-syntax-for-three-shards">2.3.2. Example: shard.init syntax for three shards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/shard.html#example-shard-minimal-configuration">2.3.3. Example: Shard, Minimal Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/shard.html#example-shard-scaling-out">2.3.4. Example: Shard, Scaling Out</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference_rock/tdb.html">2.4. Module <cite>tdb</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/tdb.html#debugger-commands">2.4.1. Debugger Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference_rock/tdb.html#example-session">2.4.2. Example Session</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">3. Configuration reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html#command-options">3.1. Command options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html#uri">3.2. URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html#initialization-file">3.3. Initialization file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html#configuration-parameters">3.4. Configuration parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#basic-parameters">3.4.1. Basic parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#configuring-the-storage">3.4.2. Configuring the storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#snapshot-daemon">3.4.3. Snapshot daemon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#binary-logging-and-snapshots">3.4.4. Binary logging and snapshots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#hot-standby">3.4.5. Hot standby</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#replication">3.4.6. Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#networking">3.4.7. Networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration/index.html#logging">3.4.8. Logging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lua_tips.html">4. Tips on Lua syntax</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/lua_tutorials.html">1. Lua tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/lua_tutorials.html#insert-one-million-tuples-with-a-lua-stored-procedure">1.1. Insert one million tuples with a Lua stored procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#configure">1.1.1. Configure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#delimiter">1.1.2. Delimiter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#create-a-function-that-returns-a-string">1.1.3. Create a function that returns a string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#create-a-function-that-calls-another-function-and-sets-a-variable">1.1.4. Create a function that calls another function and sets a variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-the-function-so-it-returns-a-one-letter-random-string">1.1.5. Modify the function so it returns a one-letter random string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-the-function-so-it-returns-a-ten-letter-random-string">1.1.6. Modify the function so it returns a ten-letter random string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#make-a-tuple-out-of-a-number-and-a-string">1.1.7. Make a tuple out of a number and a string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-main-function-to-insert-a-tuple-into-the-database">1.1.8. Modify main_function to insert a tuple into the database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-main-function-to-insert-a-million-tuples-into-the-database">1.1.9. Modify main_function to insert a million tuples into the database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/lua_tutorials.html#sum-a-json-field-for-all-tuples">1.2. Sum a JSON field for all tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/lua_tutorials.html#indexed-pattern-search">1.3. Indexed pattern search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/c_tutorial.html">2. C tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/c_tutorial.html#c-stored-procedures">2.1. C stored procedures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_guide/index.html">Contributor&#8217;s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/reference_capi/index.html">1. C API reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/box.html">1.1. Module <cite>box</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/clock.html">1.2. Module <cite>clock</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/coio.html">1.3. Module <cite>coio</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/error.html">1.4. Module <cite>error</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/fiber.html">1.5. Module <cite>fiber</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/box_index.html">1.6. Module <cite>index</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/latch.html">1.7. Module <cite>latch</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/utils.html">1.8. Module <cite>lua/utils</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/say.html">1.9. Module <cite>say</cite> (logging)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/schema.html">1.10. Module <cite>schema</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/trivia.html">1.11. Module <cite>trivia/config</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/tuple.html">1.12. Module <cite>tuple</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/txn.html">1.13. Module <cite>txn</cite></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/internals_index.html">2. Internals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#tarantool-s-binary-protocol">2.1. Tarantool&#8217;s binary protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#notation-in-diagrams">2.1.1. Notation in diagrams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#greeting-packet">2.1.2. Greeting packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#unified-packet-structure">2.1.3. Unified packet structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#authentication">2.1.4. Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#requests">2.1.5. Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#response-packet-structure">2.1.6. Response packet structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#replication-packet-structure">2.1.7. Replication packet structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#xlog-snap">2.1.8. XLOG / SNAP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#data-persistence-and-the-wal-file-format">2.2. Data persistence and the WAL file format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#the-snapshot-file-format">2.3. The snapshot file format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#the-recovery-process">2.4. The recovery process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#server-startup-with-replication">2.5. Server startup with replication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/build_contribute_index.html">3. Build and contribute</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/building_from_source.html">3.1. Building from source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/building_documentation.html">3.2. Building documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/release_management.html">3.3. Release management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/release_management.html#how-to-make-a-minor-release">3.3.1. How to make a minor release</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/guidelines_index.html">4. Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/developer_guidelines.html">4.1. Developer guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/developer_guidelines.html#how-to-work-on-a-bug">4.1.1. How to work on a bug</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html">4.2. Documentation guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#markup-issues">4.2.1. Markup issues</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#wrapping-text">4.2.1.1. Wrapping text</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#formatting-code-snippets">4.2.1.2. Formatting code snippets</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#using-separated-links">4.2.1.3. Using separated links</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#creating-labels-for-local-links">4.2.1.4. Creating labels for local links</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#making-comments">4.2.1.5. Making comments</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#language-and-style-issues">4.2.2. Language and style issues</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#us-vs-british-spelling">4.2.2.1. US vs British spelling</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#examples-and-templates">4.2.3. Examples and templates</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#module-and-function">4.2.3.1. Module and function</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#module-class-and-method">4.2.3.2. Module, class and method</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/c_style_guide.html">4.3. C Style Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/c_style_guide.html#general-guidelines">4.3.1. General guidelines</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#commenting-style">4.3.1.1. Commenting style</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#header-files">4.3.1.2. Header files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#allocating-memory">4.3.1.3. Allocating memory</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#other">4.3.1.4. Other</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/c_style_guide.html#linux-kernel-coding-style">4.3.2. Linux kernel coding style</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-1-indentation">4.3.2.1. Chapter 1: Indentation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-2-breaking-long-lines-and-strings">4.3.2.2. Chapter 2: Breaking long lines and strings</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-3-placing-braces-and-spaces">4.3.2.3. Chapter 3: Placing Braces and Spaces</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-3-1-spaces">4.3.2.4. Chapter 3.1:  Spaces</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-4-naming">4.3.2.5. Chapter 4: Naming</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-5-typedefs">4.3.2.6. Chapter 5: Typedefs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-6-functions">4.3.2.7. Chapter 6: Functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-7-centralized-exiting-of-functions">4.3.2.8. Chapter 7: Centralized exiting of functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-8-commenting">4.3.2.9. Chapter 8: Commenting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-9-you-ve-made-a-mess-of-it">4.3.2.10. Chapter 9: You&#8217;ve made a mess of it</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-10-kconfig-configuration-files">4.3.2.11. Chapter 10: Kconfig configuration files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-11-data-structures">4.3.2.12. Chapter 11: Data structures</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-12-macros-enums-and-rtl">4.3.2.13. Chapter 12: Macros, Enums and RTL</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-13-printing-kernel-messages">4.3.2.14. Chapter 13: Printing kernel messages</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-14-allocating-memory">4.3.2.15. Chapter 14: Allocating memory</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-15-the-inline-disease">4.3.2.16. Chapter 15: The inline disease</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-16-function-return-values-and-names">4.3.2.17. Chapter 16: Function return values and names</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-17-don-t-re-invent-the-kernel-macros">4.3.2.18. Chapter 17:  Don&#8217;t re-invent the kernel macros</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-18-editor-modelines-and-other-cruft">4.3.2.19. Chapter 18:  Editor modelines and other cruft</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#appendix-i-references">4.3.2.20. Appendix I: References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/python_style_guide.html">4.4. Python Style Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#introduction">4.4.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#a-foolish-consistency-is-the-hobgoblin-of-little-minds">4.4.2. A Foolish Consistency is the Hobgoblin of Little Minds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#code-lay-out">4.4.3. Code lay-out</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#indentation">4.4.3.1. Indentation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#tabs-or-spaces">4.4.3.2. Tabs or Spaces?</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#maximum-line-length">4.4.3.3. Maximum Line Length</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#blank-lines">4.4.3.4. Blank Lines</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#encodings-pep-263">4.4.3.5. Encodings (PEP 263)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#imports">4.4.3.6. Imports</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#whitespace-in-expressions-and-statements">4.4.4. Whitespace in Expressions and Statements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#pet-peeves">4.4.4.1. Pet Peeves</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#other-recommendations">4.4.4.2. Other Recommendations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#comments">4.4.5. Comments</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#block-comments">4.4.5.1. Block Comments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#inline-comments">4.4.5.2. Inline Comments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#documentation-strings">4.4.5.3. Documentation Strings</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#version-bookkeeping">4.4.6. Version Bookkeeping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#naming-conventions">4.4.7. Naming Conventions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#descriptive-naming-styles">4.4.7.1. Descriptive: Naming Styles</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#prescriptive-naming-conventions">4.4.7.2. Prescriptive: Naming Conventions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#names-to-avoid">4.4.7.2.1. Names to Avoid</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#package-and-module-names">4.4.7.2.2. Package and Module Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#class-names">4.4.7.2.3. Class Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#exception-names">4.4.7.2.4. Exception Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#global-variable-names">4.4.7.2.5. Global Variable Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#function-names">4.4.7.2.6. Function Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#function-and-method-arguments">4.4.7.2.7. Function and method arguments</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#method-names-and-instance-variables">4.4.7.2.8. Method Names and Instance Variables</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#constants">4.4.7.2.9. Constants</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#designing-for-inheritance">4.4.7.2.10. Designing for inheritance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#references">4.4.8. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#copyright">4.4.9. Copyright</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
        <div class="b-cols_content_right">
          <div class="b-cols_content_right-slot">
  <div class="b-page_header">
    <ul class="b-path-list">
      <li class="b-path-list-item">
        <a href="../../index.html"
           class="b-path-list-item-url">
          1.7
        </a>
      </li>
      
        <li class="b-path-list-item">
          <a href="../index.html"
             class="b-path-list-item-url b-ellipsis">
            Reference
          </a>
        </li>
      
        <li class="b-path-list-item">
          <a href="index.html"
             class="b-path-list-item-url b-ellipsis">
            1. Built-in modules reference
          </a>
        </li>
      
      
      <li class="b-path-list-item">
        <div title="1.16. Module <cite>net.box</cite>" class="b-path_current b-ellipsis">
          1.16. Module <cite>net.box</cite>
        </div>
      </li>
      
    </ul>
  </div>

  <article class="b-article">
    
    
    <div class="section" id="module-net-box">
<span id="net-box-module"></span><h1>1.16. Module <cite>net.box</cite><a class="headerlink" href="#module-net-box" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal"><span class="pre">net.box</span></code> module contains connectors to remote database systems. One
variant, to be discussed later, is connecting to MySQL or MariaDB or PostgreSQL
(see <a class="reference internal" href="../reference_rock/dbms.html#dbms-modules"><span class="std std-ref">SQL DBMS modules</span></a> reference). The other variant, which
is discussed in this section, is connecting to Tarantool servers via a network
using the built-in <code class="docutils literal"><span class="pre">net.box</span></code> module.</p>
<p>You can call the following methods:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">require('net.box')</span></code> to get a <code class="docutils literal"><span class="pre">net.box</span></code> object
(named <code class="docutils literal"><span class="pre">net_box</span></code> for examples in this section),</li>
<li><code class="docutils literal"><span class="pre">net_box.connect()</span></code> to connect and get a connection object
(named <code class="docutils literal"><span class="pre">conn</span></code> for examples in this section),</li>
<li>other <code class="docutils literal"><span class="pre">net.box()</span></code> routines, passing <code class="docutils literal"><span class="pre">conn:</span></code>, to execute requests on
a remote box,</li>
<li><code class="docutils literal"><span class="pre">conn:close</span></code> to disconnect.</li>
</ul>
<p>All <code class="docutils literal"><span class="pre">net.box</span></code> methods are fiber-safe, that is, it is safe to share and use the
same connection object across multiple concurrent fibers. In fact, it&#8217;s perhaps
the best programming practice with Tarantool. When multiple fibers use the same
connection, all requests are pipelined through the same network socket, but each
fiber gets back a correct response. Reducing the number of active sockets lowers
the overhead of system calls and increases the overall server performance. There
are, however, cases when a single connection is not enough — for example, when it&#8217;s
necessary to prioritize requests or to use different authentication IDs.</p>
<p>The diagram below shows possible connection states and transitions:</p>
<div align="center" class="align-center"><img alt="net_states.svg" src="../../../_images/net_states.svg" /></div>
<p>On this diagram:</p>
<ul class="simple">
<li>The state machine starts in the &#8216;initial&#8217; state.</li>
<li><code class="docutils literal"><span class="pre">net_box.connect()</span></code> method changes the state to &#8216;connecting&#8217; and spawns a worker fiber.</li>
<li>If authentication and schema upload are required, it&#8217;s possible later on to re-enter
the &#8216;fetch_schema&#8217; state from &#8216;active&#8217; if a request fails due to a schema version
mismatch error, so schema reload is triggered.</li>
<li><code class="docutils literal"><span class="pre">conn.close()</span></code> method sets the state to &#8216;closed&#8217; and kills the worker.
If the transport is already in the &#8216;error&#8217; state, <code class="docutils literal"><span class="pre">close()</span></code> does nothing.</li>
</ul>
<span class="target" id="lua-module.net_box"></span><dl class="function">
<dt id="lua-function.net_box.connect">
<em class="property"> </em><code class="descclassname">net_box.</code><code class="descname">connect</code><big>(</big><em>URI</em><span class="optional">[</span>, <em>{option[s]}</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#lua-function.net_box.connect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="lua-function.net_box.new">
<em class="property"> </em><code class="descclassname">net_box.</code><code class="descname">new</code><big>(</big><em>URI</em><span class="optional">[</span>, <em>{option[s]}</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#lua-function.net_box.new" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The names <code class="docutils literal"><span class="pre">connect()</span></code> and <code class="docutils literal"><span class="pre">new()</span></code> are synonymous with the only
difference that <code class="docutils literal"><span class="pre">connect()</span></code> is the preferred name, while <code class="docutils literal"><span class="pre">new()</span></code> is
retained for backward compatibility.</p>
</div>
<p>Create a new connection. The connection is established on demand, at the
time of the first request. It can be re-established automatically after a
disconnect (see <code class="docutils literal"><span class="pre">reconnect_after</span></code> option below).
The returned <code class="docutils literal"><span class="pre">conn</span></code> object supports methods for making remote requests,
such as select, update or delete.</p>
<p>For a local Tarantool server, there is a pre-created always-established
connection object named <code class="samp docutils literal"><em><span class="pre">net_box</span></em><span class="pre">.self</span></code>. Its purpose is to make
polymorphic use of the <code class="docutils literal"><span class="pre">net_box</span></code> API easier. Therefore
<code class="samp docutils literal"><span class="pre">conn</span> <span class="pre">=</span> <em><span class="pre">net_box</span></em><span class="pre">.connect('localhost:3301')</span></code>
can be replaced by <code class="samp docutils literal"><span class="pre">conn</span> <span class="pre">=</span> <em><span class="pre">net_box</span></em><span class="pre">.self</span></code>. However, there is an
important difference between the embedded connection and a remote one.
With the embedded connection, requests which do not modify data do not yield.
When using a remote connection, due to
<a class="reference internal" href="../../book/box/atomic.html#atomic-implicit-yields"><span class="std std-ref">the implicit rules</span></a>
any request can yield, and database state may have changed by the time it
regains control.</p>
<p>Possible options:</p>
<ul>
<li><p class="first"><cite>wait_connected</cite>: by default, connection creation is blocked until the connection is established,
but passing <code class="docutils literal"><span class="pre">wait_connected=false</span></code> makes it return immediately. Also, passing a timeout
makes it wait before returning (e.g. <code class="docutils literal"><span class="pre">wait_connected=1.5</span></code> makes it wait at most 1.5 secs).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the presence of <code class="docutils literal"><span class="pre">reconnect_after</span></code>, <code class="docutils literal"><span class="pre">wait_connected</span></code> ignores transient failures.
The wait completes once the connection is established or is closed explicitly.</p>
</div>
</li>
<li><p class="first"><cite>reconnect_after</cite>: a <code class="docutils literal"><span class="pre">net.box</span></code> instance automatically reconnects
any time the connection is broken or if a connection attempt fails.
This makes transient network failures become transparent to the application.
Reconnect happens automatically in the background, so queries/requests that
suffered due to connectivity loss are transparently retried.
The number of retries is unlimited, connection attempts are done over the
specified timeout (e.g. <code class="docutils literal"><span class="pre">reconnect_after=5</span></code> for 5 secs).
Once a connection is explicitly closed (or garbage-collected), reconnects stop.</p>
</li>
<li><p class="first"><cite>call_16</cite>: [since 1.7.2] by default, <code class="docutils literal"><span class="pre">net.box</span></code> connections comply with a new
binary protocol command for CALL, which is not backward compatible with previous versions.
The new CALL no longer restricts a function to returning an array of tuples
and allows returning an arbitrary MsgPack/JSON result, including scalars, nil and void (nothing).
The old CALL is left intact for backward compatibility.
It will be removed in the next major release.
All programming language drivers will be gradually changed to use the new CALL.
To connect to a Tarantool instance that uses the old CALL, specify <code class="docutils literal"><span class="pre">call_16=true</span></code>.</p>
</li>
<li><p class="first"><cite>console</cite>: depending on the option&#8217;s value, the connection supports different methods
(as if instances of different classes were returned). With <code class="docutils literal"><span class="pre">console</span> <span class="pre">=</span> <span class="pre">true</span></code>, you can use
<code class="docutils literal"><span class="pre">conn</span></code> methods <code class="docutils literal"><span class="pre">close()</span></code>, <code class="docutils literal"><span class="pre">is_connected()</span></code>, <code class="docutils literal"><span class="pre">wait_state()</span></code>, <code class="docutils literal"><span class="pre">eval()</span></code> (in this case, both
binary and Lua console network protocols are supported). With <code class="docutils literal"><span class="pre">console</span> <span class="pre">=</span> <span class="pre">false</span></code> (default), you can
also use <code class="docutils literal"><span class="pre">conn</span></code> database methods (in this case, only the binary protocol is supported).</p>
</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>URI</strong> (<em>string</em>) &#8211; the <a class="reference internal" href="../configuration/index.html#index-uri"><span class="std std-ref">URI</span></a> of the target for the connection</li>
<li><strong>options</strong> &#8211; possible options are <cite>wait_connected</cite>, <cite>reconnect_after</cite>, <cite>call_16</cite> and <cite>console</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return:</th><td class="field-body"><p class="first">conn object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rtype:</th><td class="field-body"><p class="first last">userdata</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">net_box</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;localhost:3301&#39;</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">net_box</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;127.0.0.1:3302&#39;</span><span class="p">,</span> <span class="p">{</span><span class="n">wait_connected</span> <span class="o">=</span> <span class="kc">false</span><span class="p">})</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">net_box</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;127.0.0.1:3303&#39;</span><span class="p">,</span> <span class="p">{</span><span class="n">reconnect_after</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">call_16</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="lua-object.net_box.conn">
<em class="property">object </em><code class="descname">conn</code><a class="headerlink" href="#lua-object.net_box.conn" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="lua-function.conn.ping">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">ping</code><big>(</big><big>)</big><a class="headerlink" href="#lua-function.conn.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a PING command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return:</th><td class="field-body">true on success, false on error</td>
</tr>
<tr class="field-even field"><th class="field-name">Rtype:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">net_box</span><span class="p">.</span><span class="n">self</span><span class="p">:</span><span class="n">ping</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lua-function.conn.wait_connected">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">wait_connected</code><big>(</big><span class="optional">[</span><em>timeout</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#lua-function.conn.wait_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for connection to be active or closed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>timeout</strong> (<em>number</em>) &#8211; in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return:</th><td class="field-body"><p class="first">true when connected, false on failure.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rtype:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">net_box</span><span class="p">.</span><span class="n">self</span><span class="p">:</span><span class="n">wait_connected</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lua-function.conn.is_connected">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">is_connected</code><big>(</big><big>)</big><a class="headerlink" href="#lua-function.conn.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Show whether connection is active or closed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return:</th><td class="field-body">true if connected, false on failure.</td>
</tr>
<tr class="field-even field"><th class="field-name">Rtype:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">net_box</span><span class="p">.</span><span class="n">self</span><span class="p">:</span><span class="n">is_connected</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lua-function.conn.wait_state">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">wait_state</code><big>(</big><em>state[s]</em><span class="optional">[</span>, <em>timeout</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#lua-function.conn.wait_state" title="Permalink to this definition">¶</a></dt>
<dd><p>[since 1.7.2] Wait for a target state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>states</strong> (<em>string</em>) &#8211; target states</li>
<li><strong>timeout</strong> (<em>number</em>) &#8211; in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return:</th><td class="field-body"><p class="first">true when a target state is reached, false on timeout or connection closure</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rtype:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- wait infinitely for &#39;active&#39; state:</span>
<span class="n">conn</span><span class="p">:</span><span class="n">wait_state</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">)</span>

<span class="c1">-- wait for 1.5 secs at most:</span>
<span class="n">conn</span><span class="p">:</span><span class="n">wait_state</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>

<span class="c1">-- wait infinitely for either `active` or `fetch_schema` state:</span>
<span class="n">conn</span><span class="p">:</span><span class="n">wait_state</span><span class="p">({</span><span class="n">active</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span> <span class="n">fetch_schema</span><span class="o">=</span><span class="kc">true</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lua-function.conn.close">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">close</code><big>(</big><big>)</big><a class="headerlink" href="#lua-function.conn.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close a connection.</p>
<p>Connection objects are garbage collected just like any other objects in Lua, so
an explicit destruction is not mandatory. However, since close() is a system
call, it is good programming practice to close a connection explicitly when it
is no longer needed, to avoid lengthy stalls of the garbage collector.</p>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="p">:</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:select{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:select</span></code><code class="code docutils literal"><span class="pre">{...}</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:select</span></code><code class="code docutils literal"><span class="pre">{...}</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Due to <a class="reference internal" href="../../book/box/atomic.html#atomic-implicit-yields"><span class="std std-ref">the implicit yield rules</span></a>
a local <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:select</span></code><code class="code docutils literal"><span class="pre">{...}</span></code> does
not yield, but a remote <code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:select</span></code><code class="code docutils literal"><span class="pre">{...}</span></code>
call does yield, so global variables or database tuples data may
change when a remote <code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:select</span></code><code class="code docutils literal"><span class="pre">{...}</span></code>
occurs.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:get{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:get(...)</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:get(...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:insert{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:insert(...)</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:insert(...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:replace{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:replace(...)</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:replace(...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:update{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:update(...)</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:update(...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:upsert{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:upsert(...)</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:upsert(...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">conn.space.&lt;space-name&gt;:delete{field-value, ...}</code></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn.space.</span><em><span class="pre">space-name</span></em><span class="pre">:delete(...)</span></code> is the remote-call equivalent
of the local call <code class="samp docutils literal"><span class="pre">box.space.</span><em><span class="pre">space-name</span></em><span class="pre">:delete(...)</span></code>.</p>
</dd></dl>

<span class="target" id="net-box-call"></span><dl class="method">
<dt id="lua-function.conn.call">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">call</code><big>(</big><em>function-name</em><span class="optional">[</span>, <em>arguments</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#lua-function.conn.call" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">conn:call('func',</span> <span class="pre">'1',</span> <span class="pre">'2',</span> <span class="pre">'3')</span></code> is the remote-call equivalent of
<code class="docutils literal"><span class="pre">func('1',</span> <span class="pre">'2',</span> <span class="pre">'3')</span></code>. That is, <code class="docutils literal"><span class="pre">conn:call</span></code> is a remote
stored-procedure call.</p>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="p">:</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;function5&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<span class="target" id="net-box-eval"></span><dl class="method">
<dt id="lua-function.conn.eval">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">eval</code><big>(</big><em>Lua-string</em><big>)</big><a class="headerlink" href="#lua-function.conn.eval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="samp docutils literal"><span class="pre">conn:eval(</span><em><span class="pre">Lua-string</span></em><span class="pre">)</span></code> evaluates and executes the expression
in Lua-string, which may be any statement or series of statements.
An <a class="reference internal" href="../../book/box/authentication.html#authentication-owners-privileges"><span class="std std-ref">execute privilege</span></a> is required;
if the user does not have it, an administrator may grant it with
<code class="samp docutils literal"><span class="pre">box.schema.user.grant(</span><em><span class="pre">username</span></em><span class="pre">,</span> <span class="pre">'execute',</span> <span class="pre">'universe')</span></code>.</p>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="p">:</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;return 5+5&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lua-function.conn.timeout">
<em class="property"> </em><code class="descclassname">conn:</code><code class="descname">timeout</code><big>(</big><em>timeout</em><big>)</big><a class="headerlink" href="#lua-function.conn.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">timeout(...)</span></code> is a wrapper which sets a timeout for the request that
follows it.</p>
<p><strong>Example:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="p">:</span><span class="n">timeout</span><span class="p">(</span><span class="mf">0.5</span><span class="p">).</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="n">update</span><span class="p">({</span><span class="mi">1</span><span class="p">},</span> <span class="p">{{</span><span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">}})</span>
</pre></div>
</div>
<p>All remote calls support execution timeouts. Using a wrapper object makes
the remote connection API compatible with the local one, removing the need
for a separate <code class="docutils literal"><span class="pre">timeout</span></code> argument, which the local version would ignore. Once
a request is sent, it cannot be revoked from the remote server even if a
timeout expires: the timeout expiration only aborts the wait for the remote
server response, not the request itself.</p>
</dd></dl>

</dd></dl>

<div class="section" id="example">
<h2>1.16.1. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>This example shows the use of most of the <code class="docutils literal"><span class="pre">net.box</span></code> methods.</p>
<p>The sandbox configuration for this example assumes that:</p>
<ul class="simple">
<li>the Tarantool server is running on <code class="docutils literal"><span class="pre">localhost</span> <span class="pre">127.0.0.1:3301</span></code>,</li>
<li>there is a space named <code class="docutils literal"><span class="pre">tester</span></code> with a numeric primary key and with a tuple
that contains a key value = 800,</li>
<li>the current user has read, write and execute privileges.</li>
</ul>
<p>Here are commands for a quick sandbox setup:</p>
<div class="highlight highlight-default"><div class="highlight"><pre><span></span><span class="n">box</span><span class="o">.</span><span class="n">cfg</span><span class="p">{</span><span class="n">listen</span> <span class="o">=</span> <span class="mi">3301</span><span class="p">}</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">space</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;tester&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="p">:</span><span class="n">create_index</span><span class="p">(</span><span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;hash&#39;</span><span class="p">,</span> <span class="n">parts</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;unsigned&#39;</span><span class="p">}})</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">({</span><span class="mi">800</span><span class="p">,</span> <span class="s1">&#39;TEST&#39;</span><span class="p">})</span>
<span class="n">box</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">grant</span><span class="p">(</span><span class="s1">&#39;guest&#39;</span><span class="p">,</span> <span class="s1">&#39;read,write,execute&#39;</span><span class="p">,</span> <span class="s1">&#39;universe&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>And here starts the example:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span></span><span class="gp">tarantool&gt; </span><span class="n">net_box</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">net.box&#39;</span><span class="p">)</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="k">function</span> <span class="nf">example</span><span class="p">()</span>
<span class="gp">         &gt; </span>  <span class="kd">local</span> <span class="n">conn</span><span class="p">,</span> <span class="n">wtuple</span>
<span class="gp">         &gt; </span>  <span class="k">if</span> <span class="n">net_box</span><span class="p">.</span><span class="n">self</span><span class="p">:</span><span class="n">ping</span><span class="p">()</span> <span class="k">then</span>
<span class="gp">         &gt; </span>    <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">self:ping() succeeded&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>    <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">  (no surprise -- self connection is pre-established)&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="k">end</span>
<span class="gp">         &gt; </span>  <span class="k">if</span> <span class="n">box</span><span class="p">.</span><span class="n">cfg</span><span class="p">.</span><span class="n">listen</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="s">3301&#39;</span> <span class="k">then</span>
<span class="gp">         &gt; </span>    <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span><span class="s1">&#39;</span><span class="s">The local server listen address = 3301&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="k">else</span>
<span class="gp">         &gt; </span>    <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">The local server listen address is not 3301&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>    <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">(  (maybe box.cfg{...listen=&quot;3301&quot;...} was not stated)&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>    <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">(  (so connect will fail)&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="k">end</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span> <span class="o">=</span> <span class="n">net_box</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">127.0.0.1:3301&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="n">delete</span><span class="p">{</span><span class="mi">800</span><span class="p">}</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn delete done on tester.&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="n">insert</span><span class="p">{</span><span class="mi">800</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">data&#39;</span><span class="p">}</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn insert done on tester, index 0&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">  primary key value = 800.&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">wtuple</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="nb">select</span><span class="p">{</span><span class="mi">800</span><span class="p">}</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn select done on tester, index 0&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">  number of fields = &#39;</span> <span class="o">..</span> <span class="o">#</span><span class="n">wtuple</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="n">delete</span><span class="p">{</span><span class="mi">800</span><span class="p">}</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn delete done on tester&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="n">replace</span><span class="p">{</span><span class="mi">800</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">New data&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Extra data&#39;</span><span class="p">}</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn:replace done on tester&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span><span class="p">:</span><span class="n">timeout</span><span class="p">(</span><span class="mf">0.5</span><span class="p">).</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="n">update</span><span class="p">({</span><span class="mi">800</span><span class="p">},</span> <span class="p">{{</span><span class="s1">&#39;</span><span class="s">=&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Fld#1&#39;</span><span class="p">}})</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn update done on tester&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span>  <span class="n">conn</span><span class="p">:</span><span class="n">close</span><span class="p">()</span>
<span class="gp">         &gt; </span>  <span class="nb">table.insert</span><span class="p">(</span><span class="n">ta</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">conn close done&#39;</span><span class="p">)</span>
<span class="gp">         &gt; </span><span class="k">end</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">ta</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">example</span><span class="p">()</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">ta</span>
<span class="nn">---</span>
<span class="p p-Indicator">-</span> <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">self:ping() succeeded</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;</span><span class="nv">  </span><span class="s">(no</span><span class="nv"> </span><span class="s">surprise</span><span class="nv"> </span><span class="s">--</span><span class="nv"> </span><span class="s">self</span><span class="nv"> </span><span class="s">connection</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">pre-established)&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">The local server listen address = 3301</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn delete done on tester.</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn insert done on tester, index 0</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;</span><span class="nv">  </span><span class="s">primary</span><span class="nv"> </span><span class="s">key</span><span class="nv"> </span><span class="s">value</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">800.&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn select done on tester, index 0</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;</span><span class="nv">  </span><span class="s">number</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">fields</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">1&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn delete done on tester</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn:replace done on tester</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn update done on tester</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">conn close done</span>
<span class="nn">...</span>
</pre></div>
</div>
</div>
</div>

  </article>

            
            
  
    
      <div class="b-page_over-tail">
    
    
      <div class="b-page_over-prev">
        <a href="msgpack.html"
           class="b-prev b-ellipsis"
           title="1.15. Module &lt;cite&gt;msgpack&lt;/cite&gt;">1.15. Module <cite>msgpack</cite></a>
      </div>
    
    <div class="b-page_over-lang">
      <ul class="b-page_over-lang-list">
        <li class="b-page_over-lang-item">
          <a href="../../../_sources/doc/reference/reference_lua/net_box.txt"
             class="b-page_over-lang-url"> Source </a>
        </li>
      </ul>
    </div>
    
      <div class="b-page_over-next">
        <a href="osmodule.html"
           class="b-next b-ellipsis"
           title="1.17. Module &lt;cite&gt;os&lt;/cite&gt;">1.17. Module <cite>os</cite></a>
      </div>
    
    </div>
  
</div>
        </div>
      </div>
    
  

      </div>
    </div>
    <!-- FOOTER > -->
    
<footer class="b-footer">
  <div class="b-footer-wrapper">
    <nav class="b-footer_menu">
      
  <ul class="b-menu">
    
      
      <li class="b-menu-item">
      
        <a href="../../../index.html" class="b-menu-item-url">Main</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../try.html" class="b-menu-item-url">Try</a>
      </li>
    
      
      <li class="b-menu-item p-active">
      
        <a href="../../../doc.html" class="b-menu-item-url">Documentation</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../download.html" class="b-menu-item-url">Download</a>
      </li>
    
      
      <li class="b-menu-item p-cloud">
      
        <a href="https://tarantool.io/" class="b-menu-item-url">Cloud</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../rocks.html" class="b-menu-item-url">Rocks</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../careers.html" class="b-menu-item-url">Careers</a>
      </li>
    
  </ul>

      <div class="b-footer-other">
        <a href="http://15.tarantool.org">1.5 web site and downloads</a>
      </div>
    </nav>
  </div>
</footer>

    <!-- < FOOTER -->
    <div id="mobile-checker"></div>
  </body>
</html>

