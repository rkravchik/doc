






















<!doctype html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="CR40jzpLISkiUAw2MrH2zHSDNVmzyK88Nj7Crmx_RxQ" />
    
  <link rel="icon" type="image/png" sizes="16x16" href=../../../_static/favicon/favicon-16x16.png>
  <link rel="icon" type="image/png" sizes="32x32" href=../../../_static/favicon/favicon-32x32.png>
  <link rel="icon" type="image/png" sizes="96x96" href=../../../_static/favicon/favicon-96x96.png>

    <title>7. Connectors</title>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/searchtools.js"></script>
      <script type="text/javascript" src="../../../_static/js/menu.js"></script>
      <script type="text/javascript" src="../../../_static/js/mobile_menu.js"></script>
      <script type="text/javascript" src="../../../_static/js/stacktable.min.js"></script>
      <script type="text/javascript" src="../../../_static/js/headers.js"></script>
      <script type="text/javascript" src="../../../_static/js/dropdown.js"></script>
      <script type="text/javascript" src="../../../_static/js/jquery.sticky-kit.min.js"></script>
      <link rel="stylesheet" href="../../../_static/design.css">

    
    <!--[if lt IE 9]>
      <script src="/js/ie8.js"></script>
      <link rel="stylesheet" href="/theme/ie8.css" />
    <![endif]-->
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22120502-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- Rating@Mail.ru counter -->
<script type="text/javascript">
  var _tmr = _tmr || [];
  _tmr.push({id: "2284916", type: "pageView", start: (new Date()).getTime()});
  (function (d, w) {
    var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true;
    ts.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//top-fwz1.mail.ru/js/code.js";
    var f = function () {var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s);};
    if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); }
  })(document, window);
</script>
<noscript>
  <div style="position:absolute;left:-10000px;">
    <img src="//top-fwz1.mail.ru/counter?id=2284916;js=na" style="border:0;"
         height="1" width="1" alt="Рейтинг@Mail.ru" />
  </div>
</noscript>
<!-- //Rating@Mail.ru counter -->


    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:       '',
        VERSION:        '1.7.3',
        COLLAPSE_INDEX:  false,
        FILE_SUFFIX:    '.html',
        HAS_SOURCE:      true
      };
      
      
      var disqus_config = function () {
          this.page.identifier = "doc/book/connectors/index";
          this.language        = "en"
      };
      window.twttr = (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
        if (d.getElementById(id)) return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);

        t._e = []; t.ready = function(f) { t._e.push(f); };
        return t;
      }(document, "script", "twitter-wjs"));
    </script>
    

  </head>
  <body class="p-cols_design b-doc-doc_book_connectors_index">
    <div class="b-wrapper">
      <!-- HEADER > -->
      
  <header class="b-header">
    <div class="b-header_menu_mobile">
      <div class="b-burger-button">
        <span></span>
      </div>
      <form role="search" class="b-header-search"
            action="../../../search.html" method="get">
        <input name="q" type="search">
      </form>
    </div>
    <div class="b-menu_mobile">
      <div class="b-menu_mobile__wrapper">
        <nav class="b-header_menu">
          
  <ul class="b-menu">
    
      
      <li class="b-menu-item">
      
        <a href="../../../index.html" class="b-menu-item-url">Main</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../try.html" class="b-menu-item-url">Try</a>
      </li>
    
      
      <li class="b-menu-item p-active">
      
        <a href="../../../doc.html" class="b-menu-item-url">Documentation</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../download.html" class="b-menu-item-url">Download</a>
      </li>
    
      
      <li class="b-menu-item p-cloud">
      
        <a href="https://tarantool.io/" class="b-menu-item-url">Cloud</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../rocks.html" class="b-menu-item-url">Rocks</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../careers.html" class="b-menu-item-url">Careers</a>
      </li>
    
  </ul>

          
    <ul class="b-doc-language_selector-list">
    
      <li class="b-doc-language_selector-item">
      
        <a href="#" class="b-doc-language_selector-item-url p-active"> En </a>
      
      </li>
    
      <li class="b-doc-language_selector-item">
      
        <a href="
  
    ../../../../ru/doc/book/connectors/index.html
  
"
           class="b-doc-language_selector-item-url"> Ru </a>
      
      </li>
    
    </ul>

        </nav>
      </div>
    </div>
    <div class="b-header-wrapper">
      <nav class="b-header_menu">
        <div class="b-header_menu-top">
          
  <ul class="b-menu">
    
      
      <li class="b-menu-item">
      
        <a href="../../../index.html" class="b-menu-item-url">Main</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../try.html" class="b-menu-item-url">Try</a>
      </li>
    
      
      <li class="b-menu-item p-active">
      
        <a href="../../../doc.html" class="b-menu-item-url">Documentation</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../download.html" class="b-menu-item-url">Download</a>
      </li>
    
      
      <li class="b-menu-item p-cloud">
      
        <a href="https://tarantool.io/" class="b-menu-item-url">Cloud</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../rocks.html" class="b-menu-item-url">Rocks</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../careers.html" class="b-menu-item-url">Careers</a>
      </li>
    
  </ul>

          <div class="b-header_menu-top-ctl">
            
    <ul class="b-doc-language_selector-list">
    
      <li class="b-doc-language_selector-item">
      
        <a href="#" class="b-doc-language_selector-item-url p-active"> En </a>
      
      </li>
    
      <li class="b-doc-language_selector-item">
      
        <a href="
  
    ../../../../ru/doc/book/connectors/index.html
  
"
           class="b-doc-language_selector-item-url"> Ru </a>
      
      </li>
    
    </ul>

            <a class="b-search-btn" href="#">
              <i class="fa fa-search"></i>
            </a>
          </div>
        </div>
        <div class="b-header_menu-bottom">
          <form role="search" class="b-header_menu-search" action="../../../search.html" method="get">
            <input name="q" type="search" class="b-header_menu-search-text"
                   placeholder="Search Tarantool.org web site and documentation">
            <input class="b-header_menu-search-but" type="submit" value="Go">
          </form>
        </div>
      </nav>
    </div>
  </header>

      <!-- < HEADER -->

      <div class="b-content b-clearbox">
        
  
    <section class="b-block-lightgray b-documentation_top b-clearbox p-documentation_in">
      <div class="b-block-wrapper">
        <h2 class="b-section-title b-ellipsis toggle-navigation" title="7. Connectors"> 7. Connectors </h2>
      </div>
    </section>
    
      <div class="b-cols_content b-clearbox">
        <div class="b-cols_content_left">
          <div class="b-menu-toc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../whats_new.html">What&#8217;s new?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../whats_new.html#what-s-new-in-tarantool-1-7">What&#8217;s new in Tarantool 1.7?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#an-application-server-together-with-a-database-manager">An application server together with a database manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#database-features">Database features</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro.html">1. Preface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#how-to-read-the-documentation">1.1. How to read the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#getting-in-touch-with-the-tarantool-community">1.2. Getting in touch with the Tarantool community</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide_getting_started.html">2. Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide_getting_started.html#downloading-and-installing-a-binary-package">2.1. Downloading and installing a binary package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide_getting_started.html#starting-tarantool-and-making-your-first-database">2.2. Starting Tarantool and making your first database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide_getting_started.html#connecting-remotely">2.3. Connecting remotely</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../box/index.html">3. Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../box/data_model.html">3.1. Data model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../box/data_model.html#space">3.1.1. Space</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/data_model.html#tuple">3.1.2. Tuple</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/data_model.html#index">3.1.3. Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/data_model.html#data-types">3.1.4. Data types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../box/data_model.html#lua-vs-msgpack">3.1.4.1. Lua vs MsgPack</a></li>
<li class="toctree-l5"><a class="reference internal" href="../box/data_model.html#indexed-field-types">3.1.4.2. Indexed field types</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../box/data_model.html#persistence">3.1.5. Persistence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/data_model.html#operations">3.1.6. Operations</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../box/data_model.html#data-operations">3.1.6.1. Data operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../box/data_model.html#index-operations">3.1.6.2. Index operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../box/data_model.html#complexity-factors">3.1.6.3. Complexity factors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../box/atomic.html">3.2. Transaction control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../box/atomic.html#threads-fibers-and-yields">3.2.1. Threads, fibers and yields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/atomic.html#cooperative-multitasking">3.2.2. Cooperative multitasking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/atomic.html#transactions">3.2.3. Transactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/atomic.html#implicit-yields">3.2.4. Implicit yields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../box/authentication.html">3.3. Access control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../box/authentication.html#users">3.3.1. Users</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/authentication.html#passwords">3.3.2. Passwords</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/authentication.html#owners-and-privileges">3.3.3. Owners and privileges</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/authentication.html#roles">3.3.4. Roles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/authentication.html#sessions-and-security">3.3.5. Sessions and security</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../box/triggers.html">3.4. Triggers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../box/limitations.html">3.5. Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../app_server.html">4. Application server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#about-modules-rocks">4.1. About modules/rocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#installing-an-existing-module">4.2. Installing an existing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#creating-a-new-lua-module-locally">4.3. Creating a new Lua module locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#creating-a-new-c-c-module-locally">4.4. Creating a new C/C++ module locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#creating-a-mixed-lua-c-module-locally">4.5. Creating a mixed Lua/C module locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#tips-for-special-situations">4.6. Tips for special situations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#tips-on-lua-syntax">4.7. Tips on Lua syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app_server.html#cookbook-recipes">4.8. Cookbook recipes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#hello-world-lua">4.8.1. hello_world.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#console-start-lua">4.8.2. console_start.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#fio-read-lua">4.8.3. fio_read.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#fio-write-lua">4.8.4. fio_write.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#ffi-printf-lua">4.8.5. ffi_printf.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#ffi-gettimeofday-lua">4.8.6. ffi_gettimeofday.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#ffi-zlib-lua">4.8.7. ffi_zlib.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#ffi-meta-lua">4.8.8. ffi_meta.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#print-arrays-lua">4.8.9. print_arrays.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#count-array-lua">4.8.10. count_array.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#count-array-with-nils-lua">4.8.11. count_array_with_nils.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#count-array-with-nulls-lua">4.8.12. count_array_with_nulls.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#count-map-lua">4.8.13. count_map.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#swap-lua">4.8.14. swap.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#uri-lua">4.8.15. uri.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#class-lua">4.8.16. class.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#garbage-lua">4.8.17. garbage.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#fiber-producer-and-consumer-lua">4.8.18. fiber_producer_and_consumer.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#socket-tcpconnect-lua">4.8.19. socket_tcpconnect.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#socket-tcp-echo-lua">4.8.20. socket_tcp_echo.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#getaddrinfo-lua">4.8.21. getaddrinfo.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#socket-udp-echo-lua">4.8.22. socket_udp_echo.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#http-get-lua">4.8.23. http_get.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#http-send-lua">4.8.24. http_send.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#http-server-lua">4.8.25. http_server.lua</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_server.html#http-generate-html-lua">4.8.26. http_generate_html.lua</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../administration.html">5. Server administration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#using-tarantool-as-a-client">5.1. Using Tarantool as a client</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#conventions-used-in-this-section">5.1.1. Conventions used in this section</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#options-when-starting-client-from-the-command-line">5.1.2. Options when starting client from the command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#tokens-requests-and-special-key-combinations">5.1.3. Tokens, requests, and special key combinations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#requests">5.1.4. Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#utility-tarantoolctl">5.2. Utility tarantoolctl</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#configuration-for-tarantoolctl">5.2.1. Configuration for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#commands-for-tarantoolctl">5.2.2. Commands for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#typical-code-snippets-for-tarantoolctl">5.2.3. Typical code snippets for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#a-detailed-example-for-tarantoolctl">5.2.4. A detailed example for tarantoolctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#an-example-for-tarantoolctl-connect">5.2.5. An example for tarantoolctl connect</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#administrative-ports">5.3. Administrative ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#administrative-requests">5.4. Administrative requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#server-introspection">5.5. Server introspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#backups">5.6. Backups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#cold-backup">5.6.1. Cold backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#continuous-remote-backup">5.6.2. Continuous remote backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#hot-backup">5.6.3. Hot backup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#updates-upgrades">5.7. Updates/upgrades</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#updating-tarantool-in-production">5.7.1. Updating Tarantool in production</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#upgrading-a-tarantool-database">5.7.2. Upgrading a Tarantool database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#server-signal-handling">5.8. Server signal handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#generating-a-core-file">5.9. Generating a core file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#process-title">5.10. Process title</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#system-specific-administration-notes">5.11. System-specific administration notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#debian-gnu-linux-and-ubuntu">5.11.1. Debian GNU/Linux and Ubuntu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#fedora-rhel-centos">5.11.2. Fedora, RHEL, CentOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#freebsd">5.11.3. FreeBSD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#mac-os-x">5.11.4. Mac OS X</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../administration.html#notes-for-systemd-users">5.12. Notes for systemd users</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#instance-management">5.12.1. Instance management</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../administration.html#creating-instances">5.12.1.1. Creating instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../administration.html#starting-instances">5.12.1.2. Starting instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../administration.html#monitoring-instances">5.12.1.3. Monitoring instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../administration.html#attaching-to-instances">5.12.1.4. Attaching to instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../administration.html#checking-logs">5.12.1.5. Checking logs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../administration.html#stopping-instances">5.12.1.6. Stopping instances</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#daemon-supervision">5.12.2. Daemon supervision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#customizing-the-service-file">5.12.3. Customizing the service file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#debugging">5.12.4. Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#precautions">5.12.5. Precautions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#limitations">5.12.6. Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../administration.html#sysvinit-systemd-conversion">5.12.7. sysvinit -&gt; systemd conversion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../replication/index.html">6. Replication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#replication-architecture">6.1. Replication architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#setting-up-a-master">6.2. Setting up a master</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#setting-up-a-replica">6.3. Setting up a replica</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#recovering-from-a-degraded-state">6.4. Recovering from a degraded state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#quick-startup-of-a-new-simple-two-server-cluster">6.5. Quick startup of a new simple two-server cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#monitoring-a-replica-s-actions">6.6. Monitoring a replica&#8217;s actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#preventing-duplicate-actions">6.7. Preventing duplicate actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#master-master-replication">6.8. Master-master replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#all-the-what-if-questions">6.9. All the &#8220;What If?&#8221; questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../replication/index.html#hands-on-replication-tutorial">6.10. Hands-on replication tutorial</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7. Connectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#protocol">7.1. Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packet-example">7.2. Packet example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-the-server-for-connector-examples">7.3. Setting up the server for connector examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#java">7.4. Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="#go">7.5. Go</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r">7.6. R</a></li>
<li class="toctree-l3"><a class="reference internal" href="#erlang">7.7. Erlang</a></li>
<li class="toctree-l3"><a class="reference internal" href="#perl">7.8. Perl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#php">7.9. PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python">7.10. Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-js">7.11. Node.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="#c">7.12. C#</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">7.13. C</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-1">7.13.1. Example 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-2">7.13.2. Example 2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interpreting-function-return-values">7.14. Interpreting function return values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html">8. FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/reference_lua/index.html">1. Built-in library reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/box.html">1.1. Module <cite>box</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../box/box_cfg.html">1.1.1. Submodule <cite>box.cfg</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_index.html">1.1.2. Submodule <cite>box.index</cite></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../box/box_index.html#example-showing-use-of-the-box-functions">1.1.2.1. Example showing use of the box functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../box/box_index.html#example-showing-a-user-defined-iterator">1.1.2.2. Example showing a user-defined iterator</a></li>
<li class="toctree-l5"><a class="reference internal" href="../box/box_index.html#submodule-box-index-with-index-type-rtree-for-spatial-searches">1.1.2.3. Submodule <cite>box.index</cite> with index type = RTREE for spatial searches</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_info.html">1.1.3. Submodule <cite>box.info</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/box_once.html">1.1.4. Function <cite>box.once</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_schema.html">1.1.5. Submodule <cite>box.schema</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_session.html">1.1.6. Submodule <cite>box.session</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_slab.html">1.1.7. Submodule <cite>box.slab</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_space.html">1.1.8. Submodule <cite>box.space</cite></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../box/box_space.html#example-use-box-space-functions-to-read-space-tuples">1.1.8.1. Example: use box.space functions to read _space tuples</a></li>
<li class="toctree-l5"><a class="reference internal" href="../box/box_space.html#example-use-box-space-functions-to-organize-a-space-tuple">1.1.8.2. Example: use box.space functions to organize a _space tuple</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_stat.html">1.1.9. Submodule <cite>box.stat</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_tuple.html">1.1.10. Submodule <cite>box.tuple</cite></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../box/box_tuple.html#example">1.1.10.1. Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../box/box_txn_management.html">1.1.11. Functions for transaction management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/clock.html">1.2. Module <cite>clock</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/console.html">1.3. Module <cite>console</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/crypto.html">1.4. Module <cite>crypto</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/crypto.html#incremental-methods-in-the-crypto-module">1.4.1. Incremental methods in the crypto module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/crypto.html#getting-the-same-results-from-digest-and-crypto-modules">1.4.2. Getting the same results from digest and crypto modules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/csv.html">1.5. Module <cite>csv</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/digest.html">1.6. Module <cite>digest</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/digest.html#incremental-methods-in-the-digest-module">1.6.1. Incremental methods in the digest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/digest.html#example">1.6.2. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/errno.html">1.7. Module <cite>errno</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/box_error.html">1.8. Submodule <cite>box.error</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/fiber.html">1.9. Module <cite>fiber</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/fiber.html#example-of-fiber-use">1.9.1. Example Of Fiber Use</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/fiber_ipc.html">1.10. Submodule <cite>fiber-ipc</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/fiber_ipc.html#channel">1.10.1. Channel</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_lua/fiber_ipc.html#example">1.10.1.1. Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/fiber_ipc.html#condition-variables">1.10.2. Condition variables</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_lua/fiber_ipc.html#id1">1.10.2.1. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/fio.html">1.11. Module <cite>fio</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/fio.html#common-pathname-manipulations">1.11.1. Common pathname manipulations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/fio.html#common-file-manipulations">1.11.2. Common file manipulations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/fun.html">1.12. Module <cite>fun</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/json.html">1.13. Module <cite>json</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/json.html#configuration-settings">1.13.1. Configuration settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/log.html">1.14. Module <cite>log</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/log.html#example">1.14.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/msgpack.html">1.15. Module <cite>msgpack</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/msgpack.html#example">1.15.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/net_box.html">1.16. Module <cite>net.box</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/net_box.html#example">1.16.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/pickle.html">1.17. Module <cite>pickle</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/socket.html">1.18. Module <cite>socket</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/socket.html#examples">1.18.1. Examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_lua/socket.html#use-of-a-tcp-socket-over-the-internet">1.18.1.1. Use of a TCP socket over the Internet</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_lua/socket.html#use-of-a-udp-socket-on-localhost">1.18.1.2. Use of a UDP socket on localhost</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_lua/socket.html#use-tcp-server-to-accept-file-contents-sent-with-socat">1.18.1.3. Use tcp_server to accept file contents sent with socat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/strict.html">1.19. Module <cite>strict</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/tap.html">1.20. Module <cite>tap</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/tap.html#example">1.20.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/tarantool.html">1.21. Module <cite>tarantool</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/uuid.html">1.22. Module <cite>uuid</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/uuid.html#example">1.22.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/xlog.html">1.23. Module <cite>xlog</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/yaml.html">1.24. Module <cite>yaml</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_lua/yaml.html#example">1.24.1. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/other.html">1.25. Miscellaneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/errcodes.html">1.26. Database error codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_lua/errcodes.html#handling-errors">1.27. Handling errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/reference_rock/index.html">2. Rocks reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_rock/dbms.html">2.1. SQL DBMS Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/dbms.html#mysql-example">2.1.1. MySQL Example</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#installation">2.1.1.1. Installation</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../reference/reference_rock/dbms.html#with-luarocks">2.1.1.1.1. With LuaRocks</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../reference/reference_rock/dbms.html#with-github">2.1.1.1.2. With GitHub</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#connecting">2.1.1.2. Connecting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#how-to-ping">2.1.1.3. How to ping</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#executing-a-statement">2.1.1.4. Executing a statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#closing-connection">2.1.1.5. Closing connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#example">2.1.1.6. Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/dbms.html#postgresql-example">2.1.2. PostgreSQL Example</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id1">2.1.2.1. Installation</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id2">2.1.2.1.1. With LuaRocks</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id3">2.1.2.1.2. With GitHub</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id4">2.1.2.2. Connecting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id5">2.1.2.3. How to ping</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id6">2.1.2.4. Executing a statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id7">2.1.2.5. Closing connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../reference/reference_rock/dbms.html#id8">2.1.2.6. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_rock/expirationd.html">2.2. Module <cite>expirationd</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_rock/shard.html">2.3. Module <cite>shard</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/shard.html#example-shard-init-syntax-for-one-shard">2.3.1. Example: shard.init syntax for one shard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/shard.html#example-shard-init-syntax-for-three-shards">2.3.2. Example: shard.init syntax for three shards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/shard.html#example-shard-minimal-configuration">2.3.3. Example: Shard, Minimal Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/shard.html#example-shard-scaling-out">2.3.4. Example: Shard, Scaling Out</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/reference_rock/tdb.html">2.4. Module <cite>tdb</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/tdb.html#debugger-commands">2.4.1. Debugger Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/reference_rock/tdb.html#example-session">2.4.2. Example Session</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/configuration/index.html">3. Configuration reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/configuration/index.html#command-options">3.1. Command options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/configuration/index.html#uri">3.2. URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/configuration/index.html#initialization-file">3.3. Initialization file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/configuration/index.html#configuration-parameters">3.4. Configuration parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#basic-parameters">3.4.1. Basic parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#configuring-the-storage">3.4.2. Configuring the storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#snapshot-daemon">3.4.3. Snapshot daemon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#binary-logging-and-snapshots">3.4.4. Binary logging and snapshots</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#hot-standby">3.4.5. Hot standby</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#replication">3.4.6. Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#networking">3.4.7. Networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/configuration/index.html#logging">3.4.8. Logging</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/lua_tutorials.html">1. Lua tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/lua_tutorials.html#insert-one-million-tuples-with-a-lua-stored-procedure">1.1. Insert one million tuples with a Lua stored procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#configure">1.1.1. Configure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#delimiter">1.1.2. Delimiter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#create-a-function-that-returns-a-string">1.1.3. Create a function that returns a string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#create-a-function-that-calls-another-function-and-sets-a-variable">1.1.4. Create a function that calls another function and sets a variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-the-function-so-it-returns-a-one-letter-random-string">1.1.5. Modify the function so it returns a one-letter random string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-the-function-so-it-returns-a-ten-letter-random-string">1.1.6. Modify the function so it returns a ten-letter random string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#make-a-tuple-out-of-a-number-and-a-string">1.1.7. Make a tuple out of a number and a string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-main-function-to-insert-a-tuple-into-the-database">1.1.8. Modify main_function to insert a tuple into the database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/lua_tutorials.html#modify-main-function-to-insert-a-million-tuples-into-the-database">1.1.9. Modify main_function to insert a million tuples into the database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/lua_tutorials.html#sum-a-json-field-for-all-tuples">1.2. Sum a JSON field for all tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/lua_tutorials.html#indexed-pattern-search">1.3. Indexed pattern search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/c_tutorial.html">2. C tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/c_tutorial.html#c-stored-procedures">2.1. C stored procedures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_guide/index.html">Contributor&#8217;s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/reference_capi/index.html">1. C API reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/box.html">1.1. Module <cite>box</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/clock.html">1.2. Module <cite>clock</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/coio.html">1.3. Module <cite>coio</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/error.html">1.4. Module <cite>error</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/fiber.html">1.5. Module <cite>fiber</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/box_index.html">1.6. Module <cite>index</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/latch.html">1.7. Module <cite>latch</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/utils.html">1.8. Module <cite>lua/utils</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/say.html">1.9. Module <cite>say</cite> (logging)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/schema.html">1.10. Module <cite>schema</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/trivia.html">1.11. Module <cite>trivia/config</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/tuple.html">1.12. Module <cite>tuple</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/reference_capi/txn.html">1.13. Module <cite>txn</cite></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/internals_index.html">2. Internals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#tarantool-s-binary-protocol">2.1. Tarantool&#8217;s binary protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#notation-in-diagrams">2.1.1. Notation in diagrams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#greeting-packet">2.1.2. Greeting packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#unified-packet-structure">2.1.3. Unified packet structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#authentication">2.1.4. Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#requests">2.1.5. Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#response-packet-structure">2.1.6. Response packet structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#replication-packet-structure">2.1.7. Replication packet structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/internals_index.html#xlog-snap">2.1.8. XLOG / SNAP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#data-persistence-and-the-wal-file-format">2.2. Data persistence and the WAL file format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#the-snapshot-file-format">2.3. The snapshot file format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#the-recovery-process">2.4. The recovery process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/internals_index.html#server-startup-with-replication">2.5. Server startup with replication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/build_contribute_index.html">3. Build and contribute</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/building_from_source.html">3.1. Building from source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/building_documentation.html">3.2. Building documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/release_management.html">3.3. Release management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/release_management.html#how-to-make-a-minor-release">3.3.1. How to make a minor release</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../dev_guide/guidelines_index.html">4. Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/developer_guidelines.html">4.1. Developer guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/developer_guidelines.html#how-to-work-on-a-bug">4.1.1. How to work on a bug</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html">4.2. Documentation guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#markup-issues">4.2.1. Markup issues</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#wrapping-text">4.2.1.1. Wrapping text</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#formatting-code-snippets">4.2.1.2. Formatting code snippets</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#using-separated-links">4.2.1.3. Using separated links</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#creating-labels-for-local-links">4.2.1.4. Creating labels for local links</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#making-comments">4.2.1.5. Making comments</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#language-and-style-issues">4.2.2. Language and style issues</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#us-vs-british-spelling">4.2.2.1. US vs British spelling</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#examples-and-templates">4.2.3. Examples and templates</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#module-and-function">4.2.3.1. Module and function</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/documentation_guidelines.html#module-class-and-method">4.2.3.2. Module, class and method</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/c_style_guide.html">4.3. C Style Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/c_style_guide.html#general-guidelines">4.3.1. General guidelines</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#commenting-style">4.3.1.1. Commenting style</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#header-files">4.3.1.2. Header files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#allocating-memory">4.3.1.3. Allocating memory</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#other">4.3.1.4. Other</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/c_style_guide.html#linux-kernel-coding-style">4.3.2. Linux kernel coding style</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-1-indentation">4.3.2.1. Chapter 1: Indentation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-2-breaking-long-lines-and-strings">4.3.2.2. Chapter 2: Breaking long lines and strings</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-3-placing-braces-and-spaces">4.3.2.3. Chapter 3: Placing Braces and Spaces</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-3-1-spaces">4.3.2.4. Chapter 3.1:  Spaces</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-4-naming">4.3.2.5. Chapter 4: Naming</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-5-typedefs">4.3.2.6. Chapter 5: Typedefs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-6-functions">4.3.2.7. Chapter 6: Functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-7-centralized-exiting-of-functions">4.3.2.8. Chapter 7: Centralized exiting of functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-8-commenting">4.3.2.9. Chapter 8: Commenting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-9-you-ve-made-a-mess-of-it">4.3.2.10. Chapter 9: You&#8217;ve made a mess of it</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-10-kconfig-configuration-files">4.3.2.11. Chapter 10: Kconfig configuration files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-11-data-structures">4.3.2.12. Chapter 11: Data structures</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-12-macros-enums-and-rtl">4.3.2.13. Chapter 12: Macros, Enums and RTL</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-13-printing-kernel-messages">4.3.2.14. Chapter 13: Printing kernel messages</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-14-allocating-memory">4.3.2.15. Chapter 14: Allocating memory</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-15-the-inline-disease">4.3.2.16. Chapter 15: The inline disease</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-16-function-return-values-and-names">4.3.2.17. Chapter 16: Function return values and names</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-17-don-t-re-invent-the-kernel-macros">4.3.2.18. Chapter 17:  Don&#8217;t re-invent the kernel macros</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#chapter-18-editor-modelines-and-other-cruft">4.3.2.19. Chapter 18:  Editor modelines and other cruft</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/c_style_guide.html#appendix-i-references">4.3.2.20. Appendix I: References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dev_guide/python_style_guide.html">4.4. Python Style Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#introduction">4.4.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#a-foolish-consistency-is-the-hobgoblin-of-little-minds">4.4.2. A Foolish Consistency is the Hobgoblin of Little Minds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#code-lay-out">4.4.3. Code lay-out</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#indentation">4.4.3.1. Indentation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#tabs-or-spaces">4.4.3.2. Tabs or Spaces?</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#maximum-line-length">4.4.3.3. Maximum Line Length</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#blank-lines">4.4.3.4. Blank Lines</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#encodings-pep-263">4.4.3.5. Encodings (PEP 263)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#imports">4.4.3.6. Imports</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#whitespace-in-expressions-and-statements">4.4.4. Whitespace in Expressions and Statements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#pet-peeves">4.4.4.1. Pet Peeves</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#other-recommendations">4.4.4.2. Other Recommendations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#comments">4.4.5. Comments</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#block-comments">4.4.5.1. Block Comments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#inline-comments">4.4.5.2. Inline Comments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#documentation-strings">4.4.5.3. Documentation Strings</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#version-bookkeeping">4.4.6. Version Bookkeeping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#naming-conventions">4.4.7. Naming Conventions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#descriptive-naming-styles">4.4.7.1. Descriptive: Naming Styles</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dev_guide/python_style_guide.html#prescriptive-naming-conventions">4.4.7.2. Prescriptive: Naming Conventions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#names-to-avoid">4.4.7.2.1. Names to Avoid</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#package-and-module-names">4.4.7.2.2. Package and Module Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#class-names">4.4.7.2.3. Class Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#exception-names">4.4.7.2.4. Exception Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#global-variable-names">4.4.7.2.5. Global Variable Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#function-names">4.4.7.2.6. Function Names</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#function-and-method-arguments">4.4.7.2.7. Function and method arguments</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#method-names-and-instance-variables">4.4.7.2.8. Method Names and Instance Variables</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#constants">4.4.7.2.9. Constants</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dev_guide/python_style_guide.html#designing-for-inheritance">4.4.7.2.10. Designing for inheritance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#references">4.4.8. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../dev_guide/python_style_guide.html#copyright">4.4.9. Copyright</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
        <div class="b-cols_content_right">
          <div class="b-cols_content_right-slot">
  <div class="b-page_header">
    <ul class="b-path-list">
      <li class="b-path-list-item">
        <a href="../../index.html"
           class="b-path-list-item-url">
          Documentation
        </a>
      </li>
      
        <li class="b-path-list-item">
          <a href="../index.html"
             class="b-path-list-item-url b-ellipsis">
            User&#8217;s Guide
          </a>
        </li>
      
      
      <li class="b-path-list-item">
        <div title="7. Connectors" class="b-path_current b-ellipsis">
          7. Connectors
        </div>
      </li>
      
    </ul>
  </div>

  <article class="b-article">
    
    
    <div class="section" id="connectors">
<span id="index-box-connectors"></span><h1>7. Connectors<a class="headerlink" href="#connectors" title="Permalink to this headline">¶</a></h1>
<p>This chapter documents APIs for various programming languages.</p>
<div class="section" id="protocol">
<h2>7.1. Protocol<a class="headerlink" href="#protocol" title="Permalink to this headline">¶</a></h2>
<p>Tarantool&#8217;s binary protocol was designed with a focus on asynchronous I/O and
easy integration with proxies. Each client request starts with a variable-length
binary header, containing request id, request type, server id, log sequence
number, and so on.</p>
<p>The mandatory length, present in request header simplifies client or proxy I/O.
A response to a request is sent to the client as soon as it is ready. It always
carries in its header the same type and id as in the request. The id makes it
possible to match a request to a response, even if the latter arrived out of
order.</p>
<p>Unless implementing a client driver, you needn&#8217;t concern yourself with the
complications of the binary protocol. Language-specific drivers provide a
friendly way to store domain language data structures in Tarantool. A complete
description of the binary protocol is maintained in annotated Backus-Naur form
in the source tree: please see the page about
<a class="reference internal" href="../../dev_guide/internals_index.html#box-protocol-iproto-protocol"><span class="std std-ref">Tarantool&#8217;s binary protocol</span></a>.</p>
</div>
<div class="section" id="packet-example">
<h2>7.2. Packet example<a class="headerlink" href="#packet-example" title="Permalink to this headline">¶</a></h2>
<p>The Tarantool API exists so that a client program can send a request packet to
the server, and receive a response. Here is an example of a what the client
would send for <code class="docutils literal"><span class="pre">box.space[513]:insert{'A',</span> <span class="pre">'BB'}</span></code>. The BNF description of
the components is on the page about
<a class="reference internal" href="../../dev_guide/internals_index.html#box-protocol-iproto-protocol"><span class="std std-ref">Tarantool&#8217;s binary protocol</span></a>.</p>
<blockquote>
<div><div class="table container">
<table border="1" class="left-align-column-1 right-align-column-2 right-align-column-3 right-align-column-4 docutils">
<colgroup>
<col width="48%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Component</th>
<th class="head">Byte #0</th>
<th class="head">Byte #1</th>
<th class="head">Byte #2</th>
<th class="head">Byte #3</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>code for insert</td>
<td>02</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>rest of header</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="row-even"><td>2-digit number: space id</td>
<td>cd</td>
<td>02</td>
<td>01</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>code for tuple</td>
<td>21</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>1-digit number: field count = 2</td>
<td>92</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>1-character string: field[1]</td>
<td>a1</td>
<td>41</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>2-character string: field[2]</td>
<td>a2</td>
<td>42</td>
<td>42</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div></blockquote>
<p>Now, you could send that packet to the Tarantool server, and interpret the
response (the page about
<a class="reference internal" href="../../dev_guide/internals_index.html#box-protocol-iproto-protocol"><span class="std std-ref">Tarantool&#8217;s binary protocol</span></a> has a
description of the packet format for responses as well as requests). But it
would be easier, and less error-prone, if you could invoke a routine that
formats the packet according to typed parameters. Something like
<code class="docutils literal"><span class="pre">response</span> <span class="pre">=</span> <span class="pre">tarantool_routine(&quot;insert&quot;,</span> <span class="pre">513,</span> <span class="pre">&quot;A&quot;,</span> <span class="pre">&quot;B&quot;);</span></code>. And that is why APIs
exist for drivers for Perl, Python, PHP, and so on.</p>
</div>
<div class="section" id="setting-up-the-server-for-connector-examples">
<span id="index-connector-setting"></span><h2>7.3. Setting up the server for connector examples<a class="headerlink" href="#setting-up-the-server-for-connector-examples" title="Permalink to this headline">¶</a></h2>
<p>This chapter has examples that show how to connect to the Tarantool server via
the Perl, PHP, Python, node.js, and C connectors. The examples contain hard code that
will work if and only if the following conditions are met:</p>
<ul class="simple">
<li>the server (tarantool) is running on localhost (127.0.0.1) and is listening on
port 3301 (<code class="docutils literal"><span class="pre">box.cfg.listen</span> <span class="pre">=</span> <span class="pre">'3301'</span></code>),</li>
<li>space <code class="docutils literal"><span class="pre">examples</span></code> has id = 999 (<code class="docutils literal"><span class="pre">box.space.examples.id</span> <span class="pre">=</span> <span class="pre">999</span></code>) and has
a primary-key index for a numeric field
(<code class="docutils literal"><span class="pre">box.space[999].index[0].parts[1].type</span> <span class="pre">=</span> <span class="pre">&quot;unsigned&quot;</span></code>),</li>
<li>user &#8216;guest&#8217; has privileges for reading and writing.</li>
</ul>
<p>It is easy to meet all the conditions by starting the server and executing this
script:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">box</span><span class="p">.</span><span class="n">cfg</span><span class="p">{</span><span class="n">listen</span><span class="o">=</span><span class="mi">3301</span><span class="p">}</span>
<span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;examples&#39;</span><span class="p">,{</span><span class="n">id</span><span class="o">=</span><span class="mi">999</span><span class="p">})</span>
<span class="n">box</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">examples</span><span class="p">:</span><span class="n">create_index</span><span class="p">(</span><span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;hash&#39;</span><span class="p">,</span> <span class="n">parts</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;unsigned&#39;</span><span class="p">}})</span>
<span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">grant</span><span class="p">(</span><span class="s1">&#39;guest&#39;</span><span class="p">,</span><span class="s1">&#39;read,write&#39;</span><span class="p">,</span><span class="s1">&#39;space&#39;</span><span class="p">,</span><span class="s1">&#39;examples&#39;</span><span class="p">)</span>
<span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">grant</span><span class="p">(</span><span class="s1">&#39;guest&#39;</span><span class="p">,</span><span class="s1">&#39;read&#39;</span><span class="p">,</span><span class="s1">&#39;space&#39;</span><span class="p">,</span><span class="s1">&#39;_space&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="java">
<h2>7.4. Java<a class="headerlink" href="#java" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="http://github.com/tarantool/tarantool-java/">http://github.com/tarantool/tarantool-java/</a>.</p>
</div>
<div class="section" id="go">
<h2>7.5. Go<a class="headerlink" href="#go" title="Permalink to this headline">¶</a></h2>
<p>Please see <a class="reference external" href="https://github.com/mialinx/go-tarantool">https://github.com/mialinx/go-tarantool</a>.</p>
</div>
<div class="section" id="r">
<h2>7.6. R<a class="headerlink" href="#r" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://github.com/thekvs/tarantoolr">https://github.com/thekvs/tarantoolr</a>.</p>
</div>
<div class="section" id="erlang">
<h2>7.7. Erlang<a class="headerlink" href="#erlang" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://github.com/stofel/taran">Erlang tarantool driver</a>.</p>
</div>
<div class="section" id="perl">
<h2>7.8. Perl<a class="headerlink" href="#perl" title="Permalink to this headline">¶</a></h2>
<p>The most commonly used Perl driver is
<a class="reference external" href="http://search.cpan.org/~unera/DR-Tarantool/">DR::Tarantool</a>. It is not
supplied as part of the Tarantool repository; it must be installed separately.
The most common way to install it is with
<a class="reference external" href="https://en.wikipedia.org/wiki/Cpan">CPAN, the Comprehensive Perl Archive Network</a>.
<code class="docutils literal"><span class="pre">DR::Tarantool</span></code> requires other modules which should be installed first. For
example, on Ubuntu, the installation could look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo cpan install AnyEvent
<span class="gp">$</span> sudo cpan install Devel::GlobalDestruction
<span class="gp">$</span> sudo cpan install Coro
<span class="gp">$</span> sudo cpan install Test::Pod
<span class="gp">$</span> sudo cpan install Test::Spelling
<span class="gp">$</span> sudo cpan install PAR::Dist
<span class="gp">$</span> sudo cpan install List::MoreUtils
<span class="gp">$</span> sudo cpan install DR::Tarantool
</pre></div>
</div>
<p>Here is a complete Perl program that inserts <code class="docutils literal"><span class="pre">[99999,'BB']</span></code> into <code class="docutils literal"><span class="pre">space[999]</span></code>
via the Perl API. Before trying to run, check that the server is listening at
<code class="docutils literal"><span class="pre">localhost:3301</span></code> and that the space <code class="docutils literal"><span class="pre">examples</span></code> exists, as
<a class="reference internal" href="#index-connector-setting"><span class="std std-ref">described earlier</span></a>.
To run, paste the code into a file named <code class="file docutils literal"><span class="pre">example.pl</span></code> and say
<code class="samp docutils literal"><span class="pre">perl</span> <span class="pre">example.pl</span></code>. The program will connect using an application-specific
definition of the space. The program will open a socket connection with the
Tarantool server at <code class="docutils literal"><span class="pre">localhost:3301</span></code>, then send an INSERT request, then — if
all is well — end without displaying any messages. If Tarantool is not running
on <code class="docutils literal"><span class="pre">localhost</span></code> with listen port = 3301, the program will print “Connection
refused”.</p>
<div class="highlight-perl"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/perl</span>
<span class="k">use</span> <span class="nn">DR::Tarantool</span> <span class="s">&#39;:constant&#39;</span><span class="p">,</span> <span class="s">&#39;tarantool&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">DR::Tarantool</span> <span class="s">&#39;:all&#39;</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">DR::Tarantool::MsgPack::SyncClient</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$tnt</span> <span class="o">=</span> <span class="nn">DR::Tarantool::MsgPack::SyncClient</span><span class="o">-&gt;</span><span class="nb">connect</span><span class="p">(</span>
  <span class="n">host</span>    <span class="o">=&gt;</span> <span class="s">&#39;127.0.0.1&#39;</span><span class="p">,</span>                      <span class="c1"># look for tarantool on localhost</span>
  <span class="n">port</span>    <span class="o">=&gt;</span> <span class="mi">3301</span><span class="p">,</span>                             <span class="c1"># on port 3301</span>
  <span class="n">user</span>    <span class="o">=&gt;</span> <span class="s">&#39;guest&#39;</span><span class="p">,</span>                          <span class="c1"># username. one could also say &#39;password=&gt;...&#39;</span>

  <span class="n">spaces</span>  <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="mi">999</span> <span class="o">=&gt;</span> <span class="p">{</span>                                   <span class="c1"># definition of space[999] ...</span>
      <span class="n">name</span> <span class="o">=&gt;</span> <span class="s">&#39;examples&#39;</span><span class="p">,</span>                      <span class="c1">#   space[999] name = &#39;examples&#39;</span>
      <span class="n">default_type</span> <span class="o">=&gt;</span> <span class="s">&#39;STR&#39;</span><span class="p">,</span>                   <span class="c1">#   space[999] field type is &#39;STR&#39; if undefined</span>
      <span class="n">fields</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="p">{</span>                            <span class="c1">#   definition of space[999].fields ...</span>
          <span class="n">name</span> <span class="o">=&gt;</span> <span class="s">&#39;field1&#39;</span><span class="p">,</span> <span class="n">type</span> <span class="o">=&gt;</span> <span class="s">&#39;NUM&#39;</span> <span class="p">}</span> <span class="p">],</span> <span class="c1">#     space[999].field[1] name=&#39;field1&#39;,type=&#39;NUM&#39;</span>
      <span class="n">indexes</span> <span class="o">=&gt;</span> <span class="p">{</span>                             <span class="c1">#   definition of space[999] indexes ...</span>
        <span class="mi">0</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="n">name</span> <span class="o">=&gt;</span> <span class="s">&#39;primary&#39;</span><span class="p">,</span> <span class="n">fields</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="s">&#39;field1&#39;</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>

<span class="nv">$tnt</span><span class="o">-&gt;</span><span class="n">insert</span><span class="p">(</span><span class="s">&#39;examples&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="mi">99999</span><span class="p">,</span> <span class="s">&#39;BB&#39;</span> <span class="p">]);</span>
</pre></div>
</div>
<p>The example program uses field type names &#8216;STR&#8217; and &#8216;NUM&#8217;
instead of &#8216;string&#8217; and &#8216;unsigned&#8217;, due to a temporary Perl limitation.</p>
<p>The example program only shows one request and does not show all that&#8217;s
necessary for good practice. For that, please see
<a class="reference external" href="http://search.cpan.org/~unera/DR-Tarantool/">DR::Tarantool CPAN repository</a>.</p>
</div>
<div class="section" id="php">
<h2>7.9. PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<p>The most commonly used PHP driver is
<a class="reference external" href="https://github.com/tarantool/tarantool-php">tarantool-php</a>.
It is not supplied as part of the Tarantool repository; it must be installed
separately, for example with <strong class="program">git</strong>. See <a class="reference external" href="https://github.com/tarantool/tarantool-php/blob/master/#installing-and-building">installation instructions</a>.
in the driver&#8217;s <code class="file docutils literal"><span class="pre">README</span></code> file.</p>
<p>Here is a complete PHP program that inserts <code class="docutils literal"><span class="pre">[99999,'BB']</span></code> into a space named
<code class="docutils literal"><span class="pre">examples</span></code> via the PHP API. Before trying to run, check that the server is
listening at <code class="docutils literal"><span class="pre">localhost:3301</span></code> and that the space <code class="docutils literal"><span class="pre">examples</span></code> exists, as
<a class="reference internal" href="#index-connector-setting"><span class="std std-ref">described earlier</span></a>. To run, paste the code into
a file named <code class="file docutils literal"><span class="pre">example.php</span></code> and say
<code class="docutils literal"><span class="pre">php</span> <span class="pre">-d</span> <span class="pre">extension=~/tarantool-php/modules/tarantool.so</span> <span class="pre">example.php</span></code>.
The program will open a socket connection with the Tarantool server at
<code class="docutils literal"><span class="pre">localhost:3301</span></code>, then send an INSERT request, then — if all is well — print
&#8220;Insert succeeded&#8221;. If the tuple already exists, the program will print
“Duplicate key exists in unique index &#8216;primary&#8217; in space &#8216;examples&#8217;”.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nv">$tarantool</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tarantool</span><span class="p">(</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">3301</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$tarantool</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">&#39;examples&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">99999</span><span class="p">,</span> <span class="s1">&#39;BB&#39;</span><span class="p">));</span>
    <span class="k">echo</span> <span class="s2">&quot;Insert succeeded</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;Exception: &quot;</span><span class="p">,</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The example program only shows one request and does not show all that&#8217;s
necessary for good practice. For that, please see
<a class="reference external" href="https://github.com/tarantool/tarantool-php">tarantool/tarantool-php</a>
project at GitHub.</p>
<p>Besides, you can use an alternative PHP driver from
another GitHub project: it includes a <em>client</em>
(see <a class="reference external" href="https://github.com/tarantool-php/client">tarantool-php/client</a>)
and a <em>mapper</em> for that client
(see <a class="reference external" href="https://github.com/tarantool-php/mapper">tarantool-php/mapper</a>).</p>
</div>
<div class="section" id="python">
<h2>7.10. Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p>Here is a complete Python program that inserts <code class="docutils literal"><span class="pre">[99999,'Value','Value']</span></code> into
space <code class="docutils literal"><span class="pre">examples</span></code> via the high-level Python API.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="kn">from</span> <span class="nn">tarantool</span> <span class="kn">import</span> <span class="n">Connection</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">3301</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;examples&quot;</span><span class="p">,(</span><span class="mi">99999</span><span class="p">,</span><span class="s1">&#39;Value&#39;</span><span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">))</span>
<span class="k">print</span> <span class="n">result</span>
</pre></div>
</div>
<p>To prepare, paste the code into a file named <code class="file docutils literal"><span class="pre">example.py</span></code> and install
the <code class="docutils literal"><span class="pre">tarantool-python</span></code> connector with either <code class="samp docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tarantool&gt;0.4</span></code>
to install in <code class="file docutils literal"><span class="pre">/usr</span></code> (requires <strong>root</strong> privilege) or
<code class="samp docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tarantool&gt;0.4</span> <span class="pre">--user</span></code> to install in <code class="file docutils literal"><span class="pre">~</span></code> i.e. user&#8217;s
default directory. Before trying to run, check that the server is listening at
<code class="docutils literal"><span class="pre">localhost:3301</span></code> and that the space <code class="docutils literal"><span class="pre">examples</span></code> exists, as
<a class="reference internal" href="#index-connector-setting"><span class="std std-ref">described earlier</span></a>.
To run the program, say <code class="samp docutils literal"><span class="pre">python</span> <span class="pre">example.py</span></code>. The program will connect
to the server, will send the request, and will not throw any exception if
all went well. If the tuple already exists, the program will throw
<code class="docutils literal"><span class="pre">tarantool.error.DatabaseError:</span> <span class="pre">(3,</span> <span class="pre">&quot;Duplicate</span> <span class="pre">key</span> <span class="pre">exists</span> <span class="pre">in</span> <span class="pre">unique</span> <span class="pre">index</span> <span class="pre">'primary'</span> <span class="pre">in</span> <span class="pre">space</span> <span class="pre">'examples'&quot;)</span></code>.</p>
<p>The example program only shows one request and does not show all that&#8217;s
necessary for good practice. For that, please see
<a class="reference external" href="http://github.com/tarantool/tarantool-python">tarantool-python</a> project at GitHub.
For an example of using Python API with
<a class="reference external" href="https://github.com/tarantool/queue">queue managers for Tarantool</a>, see
<a class="reference external" href="https://github.com/tarantool/queue-python">queue-python</a> project at GitHub.</p>
</div>
<div class="section" id="node-js">
<h2>7.11. Node.js<a class="headerlink" href="#node-js" title="Permalink to this headline">¶</a></h2>
<p>The most commonly used node.js driver is the <a class="reference external" href="https://github.com/KlonD90/node-tarantool-driver">Node Tarantool driver</a>. It is not supplied as part
of the Tarantool repository; it must be installed separately. The most common
way to install it is with <a class="reference external" href="https://www.sitepoint.com/beginners-guide-node-package-manager/">npm</a>. For
example, on Ubuntu, the installation could look like this after npm has been
installed:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>npm install tarantool-driver --global
</pre></div>
</div>
<p>Here is a complete node.js program that inserts <code class="docutils literal"><span class="pre">[99999,'BB']</span></code> into
<code class="docutils literal"><span class="pre">space[999]</span></code> via the node.js API. Before trying to run, check that the server
is listening at <code class="docutils literal"><span class="pre">localhost:3301</span></code> and that the space <code class="docutils literal"><span class="pre">examples</span></code> exists, as
<a class="reference internal" href="#index-connector-setting"><span class="std std-ref">described earlier</span></a>. To run, paste the code into
a file named <code class="file docutils literal"><span class="pre">example.rs</span></code> and say <code class="docutils literal"><span class="pre">node</span> <span class="pre">example.rs</span></code>. The program will
connect using an application-specific definition of the space. The program will
open a socket connection with the Tarantool server at <code class="docutils literal"><span class="pre">localhost:3301</span></code>, then
send an INSERT request, then — if all is well — end after saying &#8220;Insert
succeeded&#8221;. If Tarantool is not running on <code class="docutils literal"><span class="pre">localhost</span></code> with listen port =
3301, the program will print “Connect failed”. If user <code class="docutils literal"><span class="pre">guest</span></code> does not have
authorization to connect, the program will print &#8220;Auth failed&#8221;. If the insert
request fails for any reason, for example because the tuple already exists,
the program will print &#8220;Insert failed&#8221;.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">TarantoolConnection</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;tarantool-driver&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TarantoolConnection</span><span class="p">({</span><span class="nx">port</span><span class="o">:</span> <span class="mi">3301</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">insertTuple</span> <span class="o">=</span> <span class="p">[</span><span class="mi">99999</span><span class="p">,</span> <span class="s2">&quot;BB&quot;</span><span class="p">];</span>
<span class="nx">conn</span><span class="p">.</span><span class="nx">connect</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">conn</span><span class="p">.</span><span class="nx">auth</span><span class="p">(</span><span class="s2">&quot;guest&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">conn</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="mi">999</span><span class="p">,</span> <span class="nx">insertTuple</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Insert succeeded&quot;</span><span class="p">);</span>
            <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Insert failed&quot;</span><span class="p">);</span>  <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="p">});</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Auth failed&quot;</span><span class="p">);</span>    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="p">});</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Connect failed&quot;</span><span class="p">);</span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="p">});</span>
</pre></div>
</div>
<p>The example program only shows one request and does not show all that&#8217;s
necessary for good practice. For that, please see  <a class="reference external" href="https://github.com/KlonD90/node-tarantool-driver">The node.js driver
repository</a>.</p>
</div>
<div class="section" id="c">
<h2>7.12. C#<a class="headerlink" href="#c" title="Permalink to this headline">¶</a></h2>
<p>The most commonly used csharp driver is the <a class="reference external" href="https://github.com/progaudi/tarantool-csharp">ProGaudi tarantool-csharp driver</a>. It is not supplied as part of
the Tarantool repository; it must be installed separately. The makers recommend
installation on Windows and not on other platforms. However, to be consistent
with the other instructions in this chapter, here is an unofficial way to
install the driver on Ubuntu 16.04.</p>
<p>Install dotnet preview from Microsoft &#8211; mono will not work, and dotnet from
xbuild will not work. Read the <a class="reference external" href="http://aka.ms/dotnet-cli-eula">Microsoft End User License Agreement</a> first, because it is not an ordinary
open-source agreement and there will be a message during installation saying
&#8220;This software may collect information about you and your use of the software,
and send that to Microsoft.&#8221; The dotnet instructions are at
<a class="reference external" href="https://www.microsoft.com/net/core#linuxubuntu">https://www.microsoft.com/net/core#ubuntu</a>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># Install tarantool-csharp from the github repository source -- nuget will</span>
<span class="c1"># not work, so building from source is necessary, thus:</span>
<span class="nb">cd</span> ~
mkdir dotnet
<span class="nb">cd</span> dotnet
git clone https://github.com/progaudi/tarantool-csharp tarantool-csharp
<span class="nb">cd</span> tarantool-csharp
dotnet restore
<span class="nb">cd</span> src/tarantool.client
dotnet build
<span class="c1"># Find the .dll file that was produced by the &quot;dotnet build&quot; step. The next</span>
instruction assumes it was produced in <span class="s1">&#39;bin/Debug/netcoreapp1.0&#39;</span>.
<span class="nb">cd</span> bin/Debug/netcoreapp1.0
<span class="c1"># Find the project.json file used for samples. The next instruction assumes</span>
<span class="c1"># the docker-compose/dotnet directory has a suitable one, which is true at</span>
<span class="c1"># time of writing.</span>
cp ~/dotnet/tarantool-csharp/samples/docker-compose/dotnet/project.json project.json
dotnet restore
</pre></div>
</div>
<p>Do not change directories now, the example program should be in the same
directory as the .dll file.</p>
<p>Here is a complete C# program that inserts <code class="docutils literal"><span class="pre">[99999,'BB']</span></code> into space
<code class="docutils literal"><span class="pre">examples</span></code> via the tarantool-csharp API. Before trying to run, check that the
server is listening at  <code class="docutils literal"><span class="pre">localhost:3301</span></code> and that the space <code class="docutils literal"><span class="pre">examples</span></code>
exists, as <a class="reference internal" href="#index-connector-setting"><span class="std std-ref">described earlier</span></a>. To run, paste the
code into a file named <code class="file docutils literal"><span class="pre">example.cs</span></code> and say <code class="docutils literal"><span class="pre">dotnet</span> <span class="pre">run</span> <span class="pre">example.cs</span></code>.
The program will connect using an application-specific definition of the space.
The program will open a socket connection with the Tarantool server at
<code class="docutils literal"><span class="pre">localhost:3301</span></code>, then send an INSERT request, then — if all is well — end
without saying anything. If Tarantool is not running on <code class="docutils literal"><span class="pre">localhost</span></code> with
listen port = 3301, or if user <code class="docutils literal"><span class="pre">guest</span></code> does not have authorization to connect,
or if the insert request fails for any reason, the program will print an error
message, among other things.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>using System;
using System.Linq;
using System.Threading.Tasks;
using ProGaudi.Tarantool.Client;
using ProGaudi.Tarantool.Client.Model;
public class HelloWorld
{
  static public void Main ()
  {
    Test().Wait();
  }
  static async Task Test()
  {
    var tarantoolClient = await Box.Connect(&quot;127.0.0.1:3301&quot;);
    var schema = tarantoolClient.getSchema();
    var space = await schema.getSpace(&quot;examples&quot;);
    await space.Insert(TarantoolTuple.Create(99999, &quot;BB&quot;));
  }
}
</pre></div>
</div>
<p>The same program should work on Windows with far less difficulty &#8211; just install
with nuget and run.</p>
<p>The example program only shows one request and does not show all that&#8217;s
necessary for good practice. For that, please see <a class="reference external" href="https://github.com/progaudi/tarantool-csharp">The tarantool-csharp driver
repository</a>.</p>
</div>
<div class="section" id="id1">
<h2>7.13. C<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Here follow two examples of using Tarantool&#8217;s high-level C API.</p>
<div class="section" id="example-1">
<h3>7.13.1. Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<p>Here is a complete C program that inserts <code class="code docutils literal"><span class="pre">[99999,'B']</span></code> into
space <code class="code docutils literal"><span class="pre">examples</span></code> via the high-level C API.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tarantool.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tnt_net.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tnt_opt.h&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tnt</span> <span class="o">=</span> <span class="n">tnt_net</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>          <span class="cm">/* See note = SETUP */</span>
   <span class="n">tnt_set</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="n">TNT_OPT_URI</span><span class="p">,</span> <span class="s">&quot;localhost:3301&quot;</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">tnt_connect</span><span class="p">(</span><span class="n">tnt</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>                      <span class="cm">/* See note = CONNECT */</span>
       <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connection refused</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
       <span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tuple</span> <span class="o">=</span> <span class="n">tnt_object</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>     <span class="cm">/* See note = MAKE REQUEST */</span>
   <span class="n">tnt_object_format</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="s">&quot;[%d%s]&quot;</span><span class="p">,</span> <span class="mi">99999</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">);</span>
   <span class="n">tnt_insert</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="n">tuple</span><span class="p">);</span>                     <span class="cm">/* See note = SEND REQUEST */</span>
   <span class="n">tnt_flush</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
   <span class="k">struct</span> <span class="n">tnt_reply</span> <span class="n">reply</span><span class="p">;</span>  <span class="n">tnt_reply_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span> <span class="cm">/* See note = GET REPLY */</span>
   <span class="n">tnt</span><span class="o">-&gt;</span><span class="n">read_reply</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">reply</span><span class="p">.</span><span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Insert failed %lu.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">reply</span><span class="p">.</span><span class="n">code</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="n">tnt_close</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>                                  <span class="cm">/* See below = TEARDOWN */</span>
   <span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
   <span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Paste the code into a file named <code class="file docutils literal"><span class="pre">example.c</span></code> and install <code class="docutils literal"><span class="pre">tarantool-c</span></code>.
One way to install <code class="docutils literal"><span class="pre">tarantool-c</span></code> (using Ubuntu) is:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone git://github.com/tarantool/tarantool-c.git ~/tarantool-c
<span class="gp">$</span> <span class="nb">cd</span> ~/tarantool-c
<span class="gp">$</span> git submodule init
<span class="gp">$</span> git submodule update
<span class="gp">$</span> cmake .
<span class="gp">$</span> make
<span class="gp">$</span> make install
</pre></div>
</div>
<p>To compile and link the program, say:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="c1"># sometimes this is necessary:</span>
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/usr/local/lib
<span class="gp">$</span> gcc -o example example.c -ltarantool
</pre></div>
</div>
<p>Before trying to run,
check that the server is listening at <code class="docutils literal"><span class="pre">localhost:3301</span></code> and that the space
<code class="docutils literal"><span class="pre">examples</span></code> exists, as
<a class="reference internal" href="#index-connector-setting"><span class="std std-ref">described earlier</span></a>.
To run the program, say <code class="samp docutils literal"><span class="pre">./example</span></code>. The program will connect
to the server, and will send the request.
If Tarantool is not running on localhost with listen address = 3301, the program
will print “Connection refused”.
If the insert fails, the program will print &#8220;Insert failed&#8221; and an error number
(see all error codes in the source file
<a class="reference external" href="https://github.com/tarantool/tarantool/blob/1.7/src/box/errcode.h">/src/box/errcode.h</a>).</p>
<p>Here are notes corresponding to comments in the example program.</p>
<p><strong>SETUP:</strong> The setup begins by creating a stream.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tnt</span> <span class="o">=</span> <span class="n">tnt_net</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="n">tnt_set</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="n">TNT_OPT_URI</span><span class="p">,</span> <span class="s">&quot;localhost:3301&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>In this program, the stream will be named <code class="docutils literal"><span class="pre">tnt</span></code>.
Before connecting on the <code class="docutils literal"><span class="pre">tnt</span></code> stream, some options may have to be set.
The most important option is TNT_OPT_URI.
In this program, the URI is <code class="docutils literal"><span class="pre">localhost:3301</span></code>, since that is where the
Tarantool server is supposed to be listening.</p>
<p>Function description:</p>
<pre class="highlight literal-block">
<cite>struct tnt_stream *tnt_net(struct tnt_stream *s)</cite>
<cite>int tnt_set(struct tnt_stream *s, int option, variant option-value)</cite>
</pre>
<p><strong>CONNECT:</strong> Now that the stream named <code class="docutils literal"><span class="pre">tnt</span></code> exists and is associated with a
URI, this example program can connect to the server.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">tnt_connect</span><span class="p">(</span><span class="n">tnt</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
   <span class="p">{</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connection refused</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span> <span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="p">}</span>
</pre></div>
</div>
<p>Function description:</p>
<pre class="highlight literal-block">
int tnt_connect(struct tnt_stream *s)
</pre>
<p>The connection might fail for a variety of reasons, such as:
the server is not running, or the URI contains an invalid password.
If the connection fails, the return value will be -1.</p>
<p><strong>MAKE REQUEST:</strong> Most requests require passing a structured value, such as
the contents of a tuple.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tuple</span> <span class="o">=</span> <span class="n">tnt_object</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="n">tnt_object_format</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="s">&quot;[%d%s]&quot;</span><span class="p">,</span> <span class="mi">99999</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>In this program, the request will
be an INSERT, and the tuple contents will be an integer
and a string. This is a simple serial set of values, that
is, there are no sub-structures or arrays. Therefore it
is easy in this case to format what will be passed using
the same sort of arguments that one would use with a C
<code class="docutils literal"><span class="pre">printf()</span></code> function: <code class="docutils literal"><span class="pre">%d</span></code> for the integer, <code class="docutils literal"><span class="pre">%s</span></code> for the string,
then the integer value, then a pointer to the string value.</p>
<p>Function description:</p>
<pre class="highlight literal-block">
ssize_t tnt_object_format(struct tnt_stream *s, const char *fmt, ...)
</pre>
<p><strong>SEND REQUEST:</strong> The database-manipulation requests are analogous to the
requests in the box library.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">tnt_insert</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="n">tuple</span><span class="p">);</span>
<span class="n">tnt_flush</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
</pre></div>
</div>
<p>In this program, the choice is to do an INSERT request, so
the program passes the <code class="docutils literal"><span class="pre">tnt_stream</span></code> that was used for connection
(<code class="docutils literal"><span class="pre">tnt</span></code>) and the <code class="docutils literal"><span class="pre">tnt_stream</span></code> that was set up with
<a class="reference external" href="http://tarantool.github.io/tarantool-c/msgpackobject.html#c.tnt_object_format" title="(in tarantool-c v1.0)"><code class="docutils literal"><span class="pre">tnt_object_format()</span></code></a> (<code class="docutils literal"><span class="pre">tuple</span></code>).</p>
<p>Function description:</p>
<pre class="highlight literal-block">
ssize_t tnt_insert(struct tnt_stream *s, uint32_t space, struct tnt_stream *tuple)
ssize_t tnt_replace(struct tnt_stream *s, uint32_t space, struct tnt_stream *tuple)
ssize_t tnt_select(struct tnt_stream *s, uint32_t space, uint32_t index,
                   uint32_t limit, uint32_t offset, uint8_t iterator,
                   struct tnt_stream *key)
ssize_t tnt_update(struct tnt_stream *s, uint32_t space, uint32_t index,
                   struct tnt_stream *key, struct tnt_stream *ops)
</pre>
<p><strong>GET REPLY:</strong> For most requests, the client will receive a reply containing some
indication whether the result was successful, and a set of tuples.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">tnt_reply</span> <span class="n">reply</span><span class="p">;</span>  <span class="n">tnt_reply_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>
<span class="n">tnt</span><span class="o">-&gt;</span><span class="n">read_reply</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">reply</span><span class="p">.</span><span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
   <span class="p">{</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Insert failed %lu.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">reply</span><span class="p">.</span><span class="n">code</span><span class="p">);</span> <span class="p">}</span>
</pre></div>
</div>
<p>This program checks for success but does not decode the rest of the reply.</p>
<p>Function description:</p>
<pre class="highlight literal-block">
struct tnt_reply *tnt_reply_init(struct tnt_reply *r)
tnt-&gt;read_reply(struct tnt_stream *s, struct tnt_reply *r)
void tnt_reply_free(struct tnt_reply *r)
</pre>
<p><strong>TEARDOWN:</strong> When a session ends, the connection that was made with
<a class="reference external" href="http://tarantool.github.io/tarantool-c/connection.html#c.tnt_connect" title="(in tarantool-c v1.0)"><code class="docutils literal"><span class="pre">tnt_connect()</span></code></a> should be closed, and the objects that were
made in the setup should be destroyed.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">tnt_close</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
<span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
<span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
</pre></div>
</div>
<p>Function description:</p>
<pre class="highlight literal-block">
void tnt_close(struct tnt_stream *s)
void tnt_stream_free(struct tnt_stream *s)
</pre>
</div>
<div class="section" id="example-2">
<h3>7.13.2. Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<p>Here is a complete C program that selects, using index key <code class="docutils literal"><span class="pre">[99999]</span></code>, from
space <code class="docutils literal"><span class="pre">examples</span></code> via the high-level C API.
To display the results, the program uses functions in the
<a class="reference external" href="http://rtsisyk.github.io/msgpuck/">MsgPuck</a> library which allow decoding of
<a class="reference external" href="https://en.wikipedia.org/wiki/MessagePack">MessagePack</a>  arrays.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tarantool.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tnt_net.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tnt_opt.h&gt;</span><span class="cp"></span>

<span class="cp">#define MP_SOURCE 1</span>
<span class="cp">#include</span> <span class="cpf">&lt;msgpuck.h&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tnt</span> <span class="o">=</span> <span class="n">tnt_net</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
    <span class="n">tnt_set</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="n">TNT_OPT_URI</span><span class="p">,</span> <span class="s">&quot;localhost:3301&quot;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">tnt_connect</span><span class="p">(</span><span class="n">tnt</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connection refused</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tuple</span> <span class="o">=</span> <span class="n">tnt_object</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
    <span class="n">tnt_object_format</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span> <span class="s">&quot;[%d]&quot;</span><span class="p">,</span> <span class="mi">99999</span><span class="p">);</span> <span class="cm">/* tuple = search key */</span>
    <span class="n">tnt_select</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tuple</span><span class="p">);</span>
    <span class="n">tnt_flush</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
    <span class="k">struct</span> <span class="n">tnt_reply</span> <span class="n">reply</span><span class="p">;</span> <span class="n">tnt_reply_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>
    <span class="n">tnt</span><span class="o">-&gt;</span><span class="n">read_reply</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">reply</span><span class="p">.</span><span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Select failed.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">char</span> <span class="n">field_type</span><span class="p">;</span>
    <span class="n">field_type</span> <span class="o">=</span> <span class="n">mp_typeof</span><span class="p">(</span><span class="o">*</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">field_type</span> <span class="o">!=</span> <span class="n">MP_ARRAY</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;no tuple array</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">long</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">row_count</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">tuple_count</span> <span class="o">=</span> <span class="n">mp_decode_array</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;tuple count=%u</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">tuple_count</span><span class="p">);</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">tuple_count</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">field_type</span> <span class="o">=</span> <span class="n">mp_typeof</span><span class="p">(</span><span class="o">*</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">field_type</span> <span class="o">!=</span> <span class="n">MP_ARRAY</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;no field array</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="kt">uint32_t</span> <span class="n">field_count</span> <span class="o">=</span> <span class="n">mp_decode_array</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;  field count=%u</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">field_count</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">field_count</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">field_type</span> <span class="o">=</span> <span class="n">mp_typeof</span><span class="p">(</span><span class="o">*</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">field_type</span> <span class="o">==</span> <span class="n">MP_UINT</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">uint64_t</span> <span class="n">num_value</span> <span class="o">=</span> <span class="n">mp_decode_uint</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;    value=%lu.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">num_value</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">field_type</span> <span class="o">==</span> <span class="n">MP_STR</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str_value</span><span class="p">;</span>
                <span class="kt">uint32_t</span> <span class="n">str_value_length</span><span class="p">;</span>
                <span class="n">str_value</span> <span class="o">=</span> <span class="n">mp_decode_str</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">str_value_length</span><span class="p">);</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;    value=%.*s.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">str_value_length</span><span class="p">,</span> <span class="n">str_value</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;wrong field type</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
                <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">tnt_close</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
    <span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
    <span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Similarly to the first example, paste the code into a file named
<code class="file docutils literal"><span class="pre">example2.c</span></code>.</p>
<p>To compile and link the program, say:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> gcc -o example2 example2.c -ltarantool
</pre></div>
</div>
<p>To run the program, say <code class="samp docutils literal"><span class="pre">./example2</span></code>.</p>
<p>The two example programs only show a few requests and do not show all that&#8217;s
necessary for good practice. See more in the
<a class="reference external" href="http://github.com/tarantool/tarantool-c">tarantool-c documentation at GitHub</a>.</p>
</div>
</div>
<div class="section" id="interpreting-function-return-values">
<h2>7.14. Interpreting function return values<a class="headerlink" href="#interpreting-function-return-values" title="Permalink to this headline">¶</a></h2>
<p>For all connectors, calling a function via Tarantool causes a return in the
MsgPack format. If the function is called using the connector&#8217;s API, some
conversions may occur. All scalar values are returned as tuples (with a MsgPack
type-identifier followed by a value); all non-scalar values are returned as a
group of tuples (with a MsgPack array-identifier followed by the scalar values).
If the function is called via the binary protocol command layer &#8211; &#8220;eval&#8221; &#8211;
rather than via the connector&#8217;s API, no conversions occur.</p>
<p>In the following example, a Lua function will be created. Since it will be
accessed externally by a &#8216;guest&#8217; user, a <code class="docutils literal"><span class="pre">grant</span></code> of an execute privilege will
be necessary. The function returns an empty array, a scalar string, two booleans,
and a short integer. The values are the ones described in the table
<a class="reference internal" href="../../reference/reference_lua/msgpack.html#msgpack-common-types-and-msgpack-encodings"><span class="std std-ref">Common Types and MsgPack Encodings</span></a>.</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span></span><span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">cfg</span><span class="p">{</span><span class="n">listen</span><span class="o">=</span><span class="mi">3301</span><span class="p">}</span>
<span class="go">2016-03-03 18:45:52.802 [27381] main/101/interactive I&gt; ready to accept requests</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="k">function</span> <span class="nf">f</span><span class="p">()</span> <span class="k">return</span> <span class="p">{},</span><span class="s1">&#39;</span><span class="s">a&#39;</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">true</span><span class="p">,</span><span class="mi">127</span><span class="p">;</span> <span class="k">end</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">f&#39;</span><span class="p">)</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">grant</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">guest&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="s">execute&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="s">function&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="s">f&#39;</span><span class="p">)</span>
<span class="nn">---</span>
<span class="nn">...</span>
</pre></div>
</div>
<p>Here is a C program which calls the function. Although C is being used for the
example, the result would be precisely the same if the calling program was
written in Perl, PHP, Python, Go, or Java.</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tarantool.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tnt_net.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;tarantool/tnt_opt.h&gt;</span><span class="cp"></span>
<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tnt</span> <span class="o">=</span> <span class="n">tnt_net</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>            <span class="cm">/* SETUP */</span>
  <span class="n">tnt_set</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="n">TNT_OPT_URI</span><span class="p">,</span> <span class="s">&quot;localhost:3301&quot;</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">tnt_connect</span><span class="p">(</span><span class="n">tnt</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>                        <span class="cm">/* CONNECT */</span>
       <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Connection refused</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
       <span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">tuple</span> <span class="o">=</span> <span class="n">tnt_object</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>       <span class="cm">/* MAKE REQUEST */</span>
   <span class="k">struct</span> <span class="n">tnt_stream</span> <span class="o">*</span><span class="n">arg</span><span class="p">;</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">tnt_object</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
   <span class="n">tnt_object_add_array</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
   <span class="k">struct</span> <span class="n">tnt_request</span> <span class="o">*</span><span class="n">req1</span> <span class="o">=</span> <span class="n">tnt_request_call</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span> <span class="cm">/* CALL function f() */</span>
   <span class="n">tnt_request_set_funcz</span><span class="p">(</span><span class="n">req1</span><span class="p">,</span> <span class="s">&quot;f&quot;</span><span class="p">);</span>
   <span class="n">tnt_request_set_tuple</span><span class="p">(</span><span class="n">req1</span><span class="p">,</span> <span class="n">arg</span><span class="p">);</span>
   <span class="kt">uint64_t</span> <span class="n">sync1</span> <span class="o">=</span> <span class="n">tnt_request_compile</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="n">req1</span><span class="p">);</span>
   <span class="n">tnt_flush</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>                                    <span class="cm">/* SEND REQUEST */</span>
   <span class="k">struct</span> <span class="n">tnt_reply</span> <span class="n">reply</span><span class="p">;</span>  <span class="n">tnt_reply_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>   <span class="cm">/* GET REPLY */</span>
   <span class="n">tnt</span><span class="o">-&gt;</span><span class="n">read_reply</span><span class="p">(</span><span class="n">tnt</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">reply</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">reply</span><span class="p">.</span><span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Call failed %lu.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">reply</span><span class="p">.</span><span class="n">code</span><span class="p">);</span>
     <span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">p</span><span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">reply</span><span class="p">.</span><span class="n">data</span><span class="p">;</span><span class="cm">/* PRINT REPLY */</span>
   <span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">&lt;</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">reply</span><span class="p">.</span><span class="n">data_end</span><span class="p">)</span>
   <span class="p">{</span>
     <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%x &quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span>
     <span class="o">++</span><span class="n">p</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">tnt_close</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>                                    <span class="cm">/* TEARDOWN */</span>
   <span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
   <span class="n">tnt_stream_free</span><span class="p">(</span><span class="n">tnt</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When this program is executed, it will print:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">dd 0 0 0 5 90 91 a1 61 91 c2 91 c3 91 7f</span>
</pre></div>
</div>
<p>The first five bytes &#8211; <code class="docutils literal"><span class="pre">dd</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">5</span></code> &#8211; are the MsgPack encoding for
&#8220;32-bit array header with value 5&#8221; (see
<a class="reference external" href="http://github.com/msgpack/msgpack/blob/master/spec.md">MsgPack specification</a>).
The rest are as described in the
table <a class="reference internal" href="../../reference/reference_lua/msgpack.html#msgpack-common-types-and-msgpack-encodings"><span class="std std-ref">Common Types and MsgPack Encodings</span></a>.</p>
</div>
</div>

  </article>

            
            
  
    
      <div class="b-page_over-tail">
    
    
      <div class="b-page_over-prev">
        <a href="../replication/index.html"
           class="b-prev b-ellipsis"
           title="6. Replication">6. Replication</a>
      </div>
    
    <div class="b-page_over-lang">
      <ul class="b-page_over-lang-list">
        <li class="b-page_over-lang-item">
          <a href="../../../_sources/doc/book/connectors/index.txt"
             class="b-page_over-lang-url"> Source </a>
        </li>
      </ul>
    </div>
    
      <div class="b-page_over-next">
        <a href="../faq.html"
           class="b-next b-ellipsis"
           title="8. FAQ">8. FAQ</a>
      </div>
    
    </div>
  
</div>
        </div>
      </div>
    
  

      </div>
    </div>
    <!-- FOOTER > -->
    
<footer class="b-footer">
  <div class="b-footer-wrapper">
    <nav class="b-footer_menu">
      
  <ul class="b-menu">
    
      
      <li class="b-menu-item">
      
        <a href="../../../index.html" class="b-menu-item-url">Main</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../try.html" class="b-menu-item-url">Try</a>
      </li>
    
      
      <li class="b-menu-item p-active">
      
        <a href="../../../doc.html" class="b-menu-item-url">Documentation</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../download.html" class="b-menu-item-url">Download</a>
      </li>
    
      
      <li class="b-menu-item p-cloud">
      
        <a href="https://tarantool.io/" class="b-menu-item-url">Cloud</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../rocks.html" class="b-menu-item-url">Rocks</a>
      </li>
    
      
      <li class="b-menu-item">
      
        <a href="../../../careers.html" class="b-menu-item-url">Careers</a>
      </li>
    
  </ul>

      <div class="b-footer-other">
        <a href="http://15.tarantool.org">1.5 web site and downloads</a>
      </div>
    </nav>
  </div>
</footer>

    <!-- < FOOTER -->
    <div id="mobile-checker"></div>
  </body>
</html>

